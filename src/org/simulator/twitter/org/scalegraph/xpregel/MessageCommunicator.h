#ifndef __ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR_H
#define __ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR_H

#include <x10rt.h>


#define ORG_SCALEGRAPH_UTIL_TEAM2_H_NODEPS
#include <org/scalegraph/util/Team2.h>
#undef ORG_SCALEGRAPH_UTIL_TEAM2_H_NODEPS
#define ORG_SCALEGRAPH_UTIL_TEAM2_H_NODEPS
#include <org/scalegraph/util/Team2.h>
#undef ORG_SCALEGRAPH_UTIL_TEAM2_H_NODEPS
#define ORG_SCALEGRAPH_GRAPH_ID_IDSTRUCT_H_NODEPS
#include <org/scalegraph/graph/id/IdStruct.h>
#undef ORG_SCALEGRAPH_GRAPH_ID_IDSTRUCT_H_NODEPS
#define ORG_SCALEGRAPH_GRAPH_ID_IDSTRUCT_H_NODEPS
#include <org/scalegraph/graph/id/IdStruct.h>
#undef ORG_SCALEGRAPH_GRAPH_ID_IDSTRUCT_H_NODEPS
#define X10_LANG_INT_H_NODEPS
#include <x10/lang/Int.h>
#undef X10_LANG_INT_H_NODEPS
#define X10_LANG_INT_H_NODEPS
#include <x10/lang/Int.h>
#undef X10_LANG_INT_H_NODEPS
#define ORG_SCALEGRAPH_GRAPH_ID_ONEDR__VTOD_H_NODEPS
#include <org/scalegraph/graph/id/OnedR__VtoD.h>
#undef ORG_SCALEGRAPH_GRAPH_ID_ONEDR__VTOD_H_NODEPS
#define ORG_SCALEGRAPH_GRAPH_ID_ONEDR__VTOD_H_NODEPS
#include <org/scalegraph/graph/id/OnedR__VtoD.h>
#undef ORG_SCALEGRAPH_GRAPH_ID_ONEDR__VTOD_H_NODEPS
#define ORG_SCALEGRAPH_GRAPH_ID_ONEDR__DTOV_H_NODEPS
#include <org/scalegraph/graph/id/OnedR__DtoV.h>
#undef ORG_SCALEGRAPH_GRAPH_ID_ONEDR__DTOV_H_NODEPS
#define ORG_SCALEGRAPH_GRAPH_ID_ONEDR__DTOV_H_NODEPS
#include <org/scalegraph/graph/id/OnedR__DtoV.h>
#undef ORG_SCALEGRAPH_GRAPH_ID_ONEDR__DTOV_H_NODEPS
#define ORG_SCALEGRAPH_GRAPH_ID_ONEDR__DTOS_H_NODEPS
#include <org/scalegraph/graph/id/OnedR__DtoS.h>
#undef ORG_SCALEGRAPH_GRAPH_ID_ONEDR__DTOS_H_NODEPS
#define ORG_SCALEGRAPH_GRAPH_ID_ONEDR__DTOS_H_NODEPS
#include <org/scalegraph/graph/id/OnedR__DtoS.h>
#undef ORG_SCALEGRAPH_GRAPH_ID_ONEDR__DTOS_H_NODEPS
#define ORG_SCALEGRAPH_GRAPH_ID_ONEDR__STOD_H_NODEPS
#include <org/scalegraph/graph/id/OnedR__StoD.h>
#undef ORG_SCALEGRAPH_GRAPH_ID_ONEDR__STOD_H_NODEPS
#define ORG_SCALEGRAPH_GRAPH_ID_ONEDR__STOD_H_NODEPS
#include <org/scalegraph/graph/id/OnedR__StoD.h>
#undef ORG_SCALEGRAPH_GRAPH_ID_ONEDR__STOD_H_NODEPS
#define ORG_SCALEGRAPH_GRAPH_ID_ONEDR__STOV_H_NODEPS
#include <org/scalegraph/graph/id/OnedR__StoV.h>
#undef ORG_SCALEGRAPH_GRAPH_ID_ONEDR__STOV_H_NODEPS
#define ORG_SCALEGRAPH_GRAPH_ID_ONEDR__STOV_H_NODEPS
#include <org/scalegraph/graph/id/OnedR__StoV.h>
#undef ORG_SCALEGRAPH_GRAPH_ID_ONEDR__STOV_H_NODEPS
#define ORG_SCALEGRAPH_UTIL_MEMORYCHUNK_H_NODEPS
#include <org/scalegraph/util/MemoryChunk.h>
#undef ORG_SCALEGRAPH_UTIL_MEMORYCHUNK_H_NODEPS
#define X10_LANG_LONG_H_NODEPS
#include <x10/lang/Long.h>
#undef X10_LANG_LONG_H_NODEPS
#define ORG_SCALEGRAPH_UTIL_MEMORYCHUNK_H_NODEPS
#include <org/scalegraph/util/MemoryChunk.h>
#undef ORG_SCALEGRAPH_UTIL_MEMORYCHUNK_H_NODEPS
#define X10_LANG_BOOLEAN_H_NODEPS
#include <x10/lang/Boolean.h>
#undef X10_LANG_BOOLEAN_H_NODEPS
#define X10_LANG_BOOLEAN_H_NODEPS
#include <x10/lang/Boolean.h>
#undef X10_LANG_BOOLEAN_H_NODEPS
#define ORG_SCALEGRAPH_UTIL_MEMORYCHUNK_H_NODEPS
#include <org/scalegraph/util/MemoryChunk.h>
#undef ORG_SCALEGRAPH_UTIL_MEMORYCHUNK_H_NODEPS
#define ORG_SCALEGRAPH_XPREGEL_MESSAGEBUFFER_H_NODEPS
#include <org/scalegraph/xpregel/MessageBuffer.h>
#undef ORG_SCALEGRAPH_XPREGEL_MESSAGEBUFFER_H_NODEPS
#define ORG_SCALEGRAPH_UTIL_MEMORYCHUNK_H_NODEPS
#include <org/scalegraph/util/MemoryChunk.h>
#undef ORG_SCALEGRAPH_UTIL_MEMORYCHUNK_H_NODEPS
#define ORG_SCALEGRAPH_UTIL_MEMORYCHUNK_H_NODEPS
#include <org/scalegraph/util/MemoryChunk.h>
#undef ORG_SCALEGRAPH_UTIL_MEMORYCHUNK_H_NODEPS
#define ORG_SCALEGRAPH_UTIL_MEMORYCHUNK_H_NODEPS
#include <org/scalegraph/util/MemoryChunk.h>
#undef ORG_SCALEGRAPH_UTIL_MEMORYCHUNK_H_NODEPS
#define X10_LANG_LONG_H_NODEPS
#include <x10/lang/Long.h>
#undef X10_LANG_LONG_H_NODEPS
#define ORG_SCALEGRAPH_UTIL_MEMORYCHUNK_H_NODEPS
#include <org/scalegraph/util/MemoryChunk.h>
#undef ORG_SCALEGRAPH_UTIL_MEMORYCHUNK_H_NODEPS
#define ORG_SCALEGRAPH_UTIL_MEMORYCHUNK_H_NODEPS
#include <org/scalegraph/util/MemoryChunk.h>
#undef ORG_SCALEGRAPH_UTIL_MEMORYCHUNK_H_NODEPS
namespace org { namespace scalegraph { namespace id { 
class ProfilingID__XPregel;
} } } 
namespace org { namespace scalegraph { namespace util { 
class Bitmap;
} } } 
namespace x10 { namespace array { 
template<class TPMGL(T)> class Array;
} } 
namespace x10 { namespace util { 
class Team;
} } 
namespace x10 { namespace lang { 
template<class TPMGL(Z1), class TPMGL(U)> class Fun_0_1;
} } 
namespace org { namespace scalegraph { namespace util { 
template<class TPMGL(T)> class GrowableMemory;
} } } 
namespace x10 { namespace lang { 
class ULong;
} } 
namespace org { namespace scalegraph { namespace util { 
class MathAppend;
} } } 
namespace org { namespace scalegraph { namespace xpregel { 
template<class TPMGL(V), class TPMGL(E), class TPMGL(M), class TPMGL(A)> class VertexContext;
} } } 
namespace org { namespace scalegraph { namespace util { 
class StopWatch;
} } } 
namespace org { namespace scalegraph { 
class Config;
} } 
namespace x10 { namespace lang { 
class Place;
} } 
namespace x10 { namespace lang { 
class Runtime;
} } 
namespace x10 { namespace lang { 
class Zero;
} } 
namespace org { namespace scalegraph { namespace util { 
class Parallel;
} } } 
namespace x10 { namespace lang { 
class LongRange;
} } 
namespace x10 { namespace lang { 
template<class TPMGL(Z1)> class VoidFun_0_1;
} } 
namespace org { namespace scalegraph { namespace util { 
class Algorithm;
} } } 
namespace x10 { namespace lang { 
class IntRange;
} } 
namespace x10 { namespace lang { 
class Math;
} } 
namespace x10 { namespace lang { 
template<class TPMGL(Z1), class TPMGL(Z2)> class VoidFun_0_2;
} } 
namespace x10 { namespace lang { 
template<class TPMGL(Z1), class TPMGL(Z2), class TPMGL(U)> class Fun_0_2;
} } 
namespace org { namespace scalegraph { namespace xpregel { 

template<class TPMGL(M)> class MessageCommunicator;
template <> class MessageCommunicator<void>;
template<class TPMGL(M)> class MessageCommunicator : public x10::lang::X10Class
  {
    public:
    RTT_H_DECLS_CLASS
    
    org::scalegraph::util::Team2 FMGL(mTeam);
    
    org::scalegraph::graph::id::IdStruct FMGL(mIds);
    
    x10_int FMGL(mNumThreads);
    
    x10_int FMGL(mSuperstep);
    
    org::scalegraph::graph::id::OnedR__VtoD FMGL(mVtoD);
    
    org::scalegraph::graph::id::OnedR__DtoV FMGL(mDtoV);
    
    org::scalegraph::graph::id::OnedR__DtoS FMGL(mDtoS);
    
    org::scalegraph::graph::id::OnedR__StoD FMGL(mStoD);
    
    org::scalegraph::graph::id::OnedR__StoV FMGL(mStoV);
    
    org::scalegraph::util::MemoryChunk<x10_long> FMGL(mInEdgesOffset);
    
    org::scalegraph::util::MemoryChunk<x10_long> FMGL(mInEdgesVertex);
    
    org::scalegraph::util::Bitmap* FMGL(mInEdgesMask);
    
    x10_boolean FMGL(mUCREnabled);
    
    x10_boolean FMGL(mBCREnabled);
    
    org::scalegraph::util::MemoryChunk<org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> >
      FMGL(mUCCMessages);
    
    org::scalegraph::util::Bitmap* FMGL(mBCCHasMessage);
    
    org::scalegraph::util::MemoryChunk<TPMGL(M)> FMGL(mBCCMessages);
    
    x10_long FMGL(mUCSRawMessageCount);
    
    org::scalegraph::util::MemoryChunk<x10_int> FMGL(mUCSCount);
    
    org::scalegraph::util::MemoryChunk<x10_int> FMGL(mUCSOffset);
    
    org::scalegraph::util::MemoryChunk<x10_long> FMGL(mUCSIds);
    
    org::scalegraph::util::MemoryChunk<TPMGL(M)> FMGL(mUCSMessages);
    
    x10_long FMGL(mBCSInputCount);
    
    org::scalegraph::util::MemoryChunk<x10_int> FMGL(mBCSCount);
    
    org::scalegraph::util::MemoryChunk<x10_int> FMGL(mBCSOffset);
    
    org::scalegraph::util::MemoryChunk<TPMGL(M)> FMGL(mBCSMessages);
    
    org::scalegraph::util::Bitmap* FMGL(mBCSMask);
    
    org::scalegraph::util::MemoryChunk<TPMGL(M)> FMGL(mUCRMessages);
    
    org::scalegraph::util::MemoryChunk<x10_long> FMGL(mUCROffset);
    
    org::scalegraph::util::Bitmap* FMGL(mBCRHasMessage);
    
    org::scalegraph::util::MemoryChunk<x10_long> FMGL(mBCROffset);
    
    org::scalegraph::util::MemoryChunk<TPMGL(M)> FMGL(mBCRMessages);
    
    x10_long FMGL(mNumActiveVertexes);
    
    void _constructor(org::scalegraph::util::Team2 team, org::scalegraph::graph::id::IdStruct ids,
                      x10_int numThreads);
    
    static org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* _make(
             org::scalegraph::util::Team2 team, org::scalegraph::graph::id::IdStruct ids,
             x10_int numThreads);
    
    virtual void del();
    virtual void deleteMessages();
    virtual org::scalegraph::util::MemoryChunk<org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> >
      messageBuffer(x10_long tid);
    virtual org::scalegraph::util::MemoryChunk<TPMGL(M)> message(
      x10_long srcid, org::scalegraph::util::GrowableMemory<TPMGL(M)>* buffer);
    template<class TPMGL(V), class TPMGL(E), class TPMGL(A)>
    void sqweezeMessage(org::scalegraph::xpregel::VertexContext<TPMGL(V), TPMGL(E), TPMGL(M), TPMGL(A)>* ctx);
    x10_long processUnicastMessages(x10::lang::Fun_0_1<org::scalegraph::util::MemoryChunk<TPMGL(M)>, TPMGL(M)>* combine);
    x10_long numLocalVertexesBC();
    void createInEdgesMask();
    x10_long processBroadcastMessages();
    virtual x10::array::Array<x10_long>* preProcess();
    virtual x10::array::Array<x10_long>* process(x10::lang::Fun_0_1<org::scalegraph::util::MemoryChunk<TPMGL(M)>, TPMGL(M)>* combine,
                                                 x10_boolean UCEnabled,
                                                 x10_boolean BCEnabled);
    virtual void exchangeMessages(x10_boolean UCEnabled, x10_boolean BCEnabled);
    virtual org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>*
      org__scalegraph__xpregel__MessageCommunicator____this__org__scalegraph__xpregel__MessageCommunicator(
      );
    virtual void __fieldInitializers44755();
    
    // Serialization
    public: static const x10aux::serialization_id_t _serialization_id;
    
    public: x10aux::serialization_id_t _get_serialization_id() {
         return _serialization_id;
    }
    
    public: virtual void _serialize_body(x10aux::serialization_buffer& buf);
    
    public: static x10::lang::Reference* _deserializer(x10aux::deserialization_buffer& buf);
    
    public: void _deserialize_body(x10aux::deserialization_buffer& buf);
    
};

template<class TPMGL(M)> x10aux::RuntimeType org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::rtt;
template<class TPMGL(M)> void org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::_initRTT() {
    const x10aux::RuntimeType *canonical = x10aux::getRTT<org::scalegraph::xpregel::MessageCommunicator<void> >();
    if (rtt.initStageOne(canonical)) return;
    const x10aux::RuntimeType** parents = NULL; 
    const x10aux::RuntimeType* params[1] = { x10aux::getRTT<TPMGL(M)>()};
    x10aux::RuntimeType::Variance variances[1] = { x10aux::RuntimeType::invariant};
    const char *baseName = "org.scalegraph.xpregel.MessageCommunicator";
    rtt.initStageTwo(baseName, x10aux::RuntimeType::class_kind, 0, parents, 1, params, variances);
}

template <> class MessageCommunicator<void> : public x10::lang::X10Class
{
    public:
    static x10aux::RuntimeType rtt;
    static const x10aux::RuntimeType* getRTT() { return & rtt; }
    
};

} } } 
#endif // ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR_H

namespace org { namespace scalegraph { namespace xpregel { 
template<class TPMGL(M)> class MessageCommunicator;
} } } 

#ifndef ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR_H_NODEPS
#define ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR_H_NODEPS
#include <org/scalegraph/util/Team2.h>
#include <org/scalegraph/graph/id/IdStruct.h>
#include <x10/lang/Int.h>
#include <org/scalegraph/graph/id/OnedR__VtoD.h>
#include <org/scalegraph/graph/id/OnedR__DtoV.h>
#include <org/scalegraph/graph/id/OnedR__DtoS.h>
#include <org/scalegraph/graph/id/OnedR__StoD.h>
#include <org/scalegraph/graph/id/OnedR__StoV.h>
#include <org/scalegraph/util/MemoryChunk.h>
#include <x10/lang/Long.h>
#include <x10/lang/Boolean.h>
#include <org/scalegraph/xpregel/MessageBuffer.h>
#include <org/scalegraph/id/ProfilingID__XPregel.h>
#include <org/scalegraph/util/Bitmap.h>
#include <x10/array/Array.h>
#include <x10/util/Team.h>
#include <x10/lang/Fun_0_1.h>
#include <org/scalegraph/util/GrowableMemory.h>
#include <x10/lang/ULong.h>
#include <org/scalegraph/util/MathAppend.h>
#include <org/scalegraph/xpregel/VertexContext.h>
#include <org/scalegraph/util/StopWatch.h>
#include <org/scalegraph/Config.h>
#include <x10/lang/Place.h>
#include <x10/lang/Runtime.h>
#include <x10/lang/Zero.h>
#include <org/scalegraph/util/Parallel.h>
#include <x10/lang/LongRange.h>
#include <x10/lang/VoidFun_0_1.h>
#include <org/scalegraph/util/Algorithm.h>
#include <x10/lang/IntRange.h>
#include <x10/lang/Math.h>
#include <x10/lang/VoidFun_0_2.h>
#include <x10/lang/Fun_0_2.h>
#ifndef ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR_H_GENERICS
#define ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR_H_GENERICS
#ifndef ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR_H_sqweezeMessage_263
#define ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR_H_sqweezeMessage_263
template<class TPMGL(M)> template<class TPMGL(V), class TPMGL(E), class TPMGL(A)>
void org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::sqweezeMessage(
  org::scalegraph::xpregel::VertexContext<TPMGL(V), TPMGL(E), TPMGL(M), TPMGL(A)>* ctx) {
    
    //#line 160 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* x45878 =
      this;
    
    //#line 160 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_long y45879 = x10aux::nullCheck(ctx)->FMGL(mNumActiveVertexes);
    
    //#line 160 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    x10aux::nullCheck(x45878)->FMGL(mNumActiveVertexes) = ((x10_long) ((x10aux::nullCheck(x45878)->
                                                                          FMGL(mNumActiveVertexes)) + (y45879)));
    
    //#line 160 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    x10aux::nullCheck(ctx)->FMGL(mNumActiveVertexes) = ((x10_long)0ll);
    
    //#line 161 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* x45880 =
      this;
    
    //#line 161 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_long y45881 = x10aux::nullCheck(ctx)->FMGL(mBCSInputCount);
    
    //#line 161 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    x10aux::nullCheck(x45880)->FMGL(mBCSInputCount) = ((x10_long) ((x10aux::nullCheck(x45880)->
                                                                      FMGL(mBCSInputCount)) + (y45881)));
    
    //#line 161 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    x10aux::nullCheck(ctx)->FMGL(mBCSInputCount) = ((x10_long)0ll);
}
#endif // ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR_H_sqweezeMessage_263
#endif // ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR_H_GENERICS
#ifndef ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR_H_IMPLEMENTATION
#define ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR_H_IMPLEMENTATION
#include <org/scalegraph/xpregel/MessageCommunicator.h>

#ifndef ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__1_CLOSURE
#define ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__1_CLOSURE
#include <x10/lang/Closure.h>
#include <x10/lang/Fun_0_1.h>
template<class TPMGL(M)> class org_scalegraph_xpregel_MessageCommunicator__closure__1 : public x10::lang::Closure {
    public:
    
    static typename x10::lang::Fun_0_1<x10_long, org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> >::template itable <org_scalegraph_xpregel_MessageCommunicator__closure__1<TPMGL(M) > > _itable;
    static x10aux::itable_entry _itables[2];
    
    virtual x10aux::itable_entry* _getITables() { return _itables; }
    
    // closure body
    org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> __apply(x10_long i) {
        
        //#line 103 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10Return_c
        return org::scalegraph::xpregel::MessageBuffer<TPMGL(M)>::_make();
        
    }
    
    // captured environment
    
    x10aux::serialization_id_t _get_serialization_id() {
        return _serialization_id;
    }
    
    void _serialize_body(x10aux::serialization_buffer &buf) {
        
    }
    
    template<class __T> static __T* _deserialize(x10aux::deserialization_buffer &buf) {
        org_scalegraph_xpregel_MessageCommunicator__closure__1<TPMGL(M) >* storage = x10aux::alloc<org_scalegraph_xpregel_MessageCommunicator__closure__1<TPMGL(M) > >();
        buf.record_reference(storage);
        org_scalegraph_xpregel_MessageCommunicator__closure__1<TPMGL(M) >* this_ = new (storage) org_scalegraph_xpregel_MessageCommunicator__closure__1<TPMGL(M) >();
        return this_;
    }
    
    org_scalegraph_xpregel_MessageCommunicator__closure__1() { }
    
    static const x10aux::serialization_id_t _serialization_id;
    
    static const x10aux::RuntimeType* getRTT() { return x10aux::getRTT<x10::lang::Fun_0_1<x10_long, org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> > >(); }
    virtual const x10aux::RuntimeType *_type() const { return x10aux::getRTT<x10::lang::Fun_0_1<x10_long, org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> > >(); }
    
    x10::lang::String* toString() {
        return x10aux::makeStringLit(this->toNativeString());
    }
    
    const char* toNativeString() {
        return "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10:103";
    }

};

template<class TPMGL(M)> typename x10::lang::Fun_0_1<x10_long, org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> >::template itable <org_scalegraph_xpregel_MessageCommunicator__closure__1<TPMGL(M) > >org_scalegraph_xpregel_MessageCommunicator__closure__1<TPMGL(M) >::_itable(&x10::lang::Reference::equals, &x10::lang::Closure::hashCode, &org_scalegraph_xpregel_MessageCommunicator__closure__1<TPMGL(M) >::__apply, &org_scalegraph_xpregel_MessageCommunicator__closure__1<TPMGL(M) >::toString, &x10::lang::Closure::typeName);
template<class TPMGL(M)> x10aux::itable_entry org_scalegraph_xpregel_MessageCommunicator__closure__1<TPMGL(M) >::_itables[2] = {x10aux::itable_entry(&x10aux::getRTT<x10::lang::Fun_0_1<x10_long, org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> > >, &org_scalegraph_xpregel_MessageCommunicator__closure__1<TPMGL(M) >::_itable),x10aux::itable_entry(NULL, NULL)};

template<class TPMGL(M)> const x10aux::serialization_id_t org_scalegraph_xpregel_MessageCommunicator__closure__1<TPMGL(M) >::_serialization_id = 
    x10aux::DeserializationDispatcher::addDeserializer(org_scalegraph_xpregel_MessageCommunicator__closure__1<TPMGL(M) >::template _deserialize<x10::lang::Reference>,x10aux::CLOSURE_KIND_NOT_ASYNC);

#endif // ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__1_CLOSURE
#ifndef ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__2_CLOSURE
#define ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__2_CLOSURE
#include <x10/lang/Closure.h>
#include <x10/lang/VoidFun_0_1.h>
template<class TPMGL(M)> class org_scalegraph_xpregel_MessageCommunicator__closure__2 : public x10::lang::Closure {
    public:
    
    static typename x10::lang::VoidFun_0_1<x10_long>::template itable <org_scalegraph_xpregel_MessageCommunicator__closure__2<TPMGL(M) > > _itable;
    static x10aux::itable_entry _itables[2];
    
    virtual x10aux::itable_entry* _getITables() { return _itables; }
    
    // closure body
    void __apply(x10_long p) {
        
        //#line 203 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_int pstart = mesOffset->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                           p);
        
        //#line 204 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_int plength = ((x10_int) ((mesOffset->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                                         ((x10_long) ((p) + (((x10_long) (((x10_int)1)))))))) - (pstart)));
        
        //#line 205 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        org::scalegraph::util::MemoryChunk<x10_long> idsLocal =
          idsTmp->org::scalegraph::util::MemoryChunk<x10_long>::subpart(
            ((x10_long) (pstart)), ((x10_long) (plength)));
        
        //#line 206 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long offset = ((x10_long) (((x10_int)0)));
        
        //#line 207 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_int i45608min45893 = ((x10_int)0);
        
        //#line 207 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_int i45608max45894 = ((x10_int) ((saved_this->
                                                FMGL(mNumThreads)) - (((x10_int)1))));
        
        //#line 207 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.For_c
        {
            x10_int i45895;
            for (
                 //#line 207 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                 i45895 = i45608min45893; ((i45895) <= (i45608max45894));
                 
                 //#line 207 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
                 i45895 = ((x10_int) ((i45895) + (((x10_int)1)))))
            {
                
                //#line 207 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                x10_int th45896 = i45895;
                
                //#line 208 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> src45891 =
                  saved_this->FMGL(mUCCMessages)->org::scalegraph::util::MemoryChunk<org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> >::__apply(
                    ((x10_long) ((((x10_long) (((x10_int) ((th45896) * (numPlaces)))))) + (p))));
                
                //#line 209 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                x10_long size45892 = x10aux::nullCheck(src45891->
                                                         FMGL(dstIds))->org::scalegraph::util::GrowableMemory<x10_long>::size();
                
                //#line 210 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
                org::scalegraph::util::MemoryChunk<void>::template copy<x10_long >(
                  x10aux::nullCheck(src45891->FMGL(dstIds))->org::scalegraph::util::GrowableMemory<x10_long>::raw(),
                  ((x10_long)0ll), idsLocal, offset, size45892);
                
                //#line 212 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
                offset = ((x10_long) ((offset) + (size45892)));
            }
        }
        
    }
    
    // captured environment
    org::scalegraph::util::MemoryChunk<x10_int> mesOffset;
    org::scalegraph::util::MemoryChunk<x10_long> idsTmp;
    org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* saved_this;
    x10_int numPlaces;
    
    x10aux::serialization_id_t _get_serialization_id() {
        return _serialization_id;
    }
    
    void _serialize_body(x10aux::serialization_buffer &buf) {
        buf.write(this->mesOffset);
        buf.write(this->idsTmp);
        buf.write(this->saved_this);
        buf.write(this->numPlaces);
    }
    
    template<class __T> static __T* _deserialize(x10aux::deserialization_buffer &buf) {
        org_scalegraph_xpregel_MessageCommunicator__closure__2<TPMGL(M) >* storage = x10aux::alloc<org_scalegraph_xpregel_MessageCommunicator__closure__2<TPMGL(M) > >();
        buf.record_reference(storage);
        org::scalegraph::util::MemoryChunk<x10_int> that_mesOffset = buf.read<org::scalegraph::util::MemoryChunk<x10_int> >();
        org::scalegraph::util::MemoryChunk<x10_long> that_idsTmp = buf.read<org::scalegraph::util::MemoryChunk<x10_long> >();
        org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* that_saved_this = buf.read<org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>*>();
        x10_int that_numPlaces = buf.read<x10_int>();
        org_scalegraph_xpregel_MessageCommunicator__closure__2<TPMGL(M) >* this_ = new (storage) org_scalegraph_xpregel_MessageCommunicator__closure__2<TPMGL(M) >(that_mesOffset, that_idsTmp, that_saved_this, that_numPlaces);
        return this_;
    }
    
    org_scalegraph_xpregel_MessageCommunicator__closure__2(org::scalegraph::util::MemoryChunk<x10_int> mesOffset, org::scalegraph::util::MemoryChunk<x10_long> idsTmp, org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* saved_this, x10_int numPlaces) : mesOffset(mesOffset), idsTmp(idsTmp), saved_this(saved_this), numPlaces(numPlaces) { }
    
    static const x10aux::serialization_id_t _serialization_id;
    
    static const x10aux::RuntimeType* getRTT() { return x10aux::getRTT<x10::lang::VoidFun_0_1<x10_long> >(); }
    virtual const x10aux::RuntimeType *_type() const { return x10aux::getRTT<x10::lang::VoidFun_0_1<x10_long> >(); }
    
    x10::lang::String* toString() {
        return x10aux::makeStringLit(this->toNativeString());
    }
    
    const char* toNativeString() {
        return "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10:202-214";
    }

};

template<class TPMGL(M)> typename x10::lang::VoidFun_0_1<x10_long>::template itable <org_scalegraph_xpregel_MessageCommunicator__closure__2<TPMGL(M) > >org_scalegraph_xpregel_MessageCommunicator__closure__2<TPMGL(M) >::_itable(&x10::lang::Reference::equals, &x10::lang::Closure::hashCode, &org_scalegraph_xpregel_MessageCommunicator__closure__2<TPMGL(M) >::__apply, &org_scalegraph_xpregel_MessageCommunicator__closure__2<TPMGL(M) >::toString, &x10::lang::Closure::typeName);
template<class TPMGL(M)> x10aux::itable_entry org_scalegraph_xpregel_MessageCommunicator__closure__2<TPMGL(M) >::_itables[2] = {x10aux::itable_entry(&x10aux::getRTT<x10::lang::VoidFun_0_1<x10_long> >, &org_scalegraph_xpregel_MessageCommunicator__closure__2<TPMGL(M) >::_itable),x10aux::itable_entry(NULL, NULL)};

template<class TPMGL(M)> const x10aux::serialization_id_t org_scalegraph_xpregel_MessageCommunicator__closure__2<TPMGL(M) >::_serialization_id = 
    x10aux::DeserializationDispatcher::addDeserializer(org_scalegraph_xpregel_MessageCommunicator__closure__2<TPMGL(M) >::template _deserialize<x10::lang::Reference>,x10aux::CLOSURE_KIND_NOT_ASYNC);

#endif // ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__2_CLOSURE
#ifndef ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__3_CLOSURE
#define ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__3_CLOSURE
#include <x10/lang/Closure.h>
#include <x10/lang/VoidFun_0_1.h>
template<class TPMGL(M)> class org_scalegraph_xpregel_MessageCommunicator__closure__3 : public x10::lang::Closure {
    public:
    
    static typename x10::lang::VoidFun_0_1<x10_long>::template itable <org_scalegraph_xpregel_MessageCommunicator__closure__3<TPMGL(M) > > _itable;
    static x10aux::itable_entry _itables[2];
    
    virtual x10aux::itable_entry* _getITables() { return _itables; }
    
    // closure body
    void __apply(x10_long p) {
        
        //#line 220 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_int pstart = mesOffset->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                           p);
        
        //#line 221 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_int plength = ((x10_int) ((mesOffset->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                                         ((x10_long) ((p) + (((x10_long) (((x10_int)1)))))))) - (pstart)));
        
        //#line 222 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        org::scalegraph::util::MemoryChunk<TPMGL(M)> mesLocal =
          mesTmp->org::scalegraph::util::MemoryChunk<TPMGL(M)>::subpart(
            ((x10_long) (pstart)), ((x10_long) (plength)));
        
        //#line 223 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long offset = ((x10_long) (((x10_int)0)));
        
        //#line 224 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_int i45641min45899 = ((x10_int)0);
        
        //#line 224 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_int i45641max45900 = ((x10_int) ((saved_this->
                                                FMGL(mNumThreads)) - (((x10_int)1))));
        
        //#line 224 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.For_c
        {
            x10_int i45901;
            for (
                 //#line 224 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                 i45901 = i45641min45899; ((i45901) <= (i45641max45900));
                 
                 //#line 224 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
                 i45901 = ((x10_int) ((i45901) + (((x10_int)1)))))
            {
                
                //#line 224 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                x10_int th45902 = i45901;
                
                //#line 225 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> src45897 =
                  saved_this->FMGL(mUCCMessages)->org::scalegraph::util::MemoryChunk<org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> >::__apply(
                    ((x10_long) ((((x10_long) (((x10_int) ((th45902) * (numPlaces)))))) + (p))));
                
                //#line 226 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                x10_long size45898 = x10aux::nullCheck(src45897->
                                                         FMGL(messages))->org::scalegraph::util::GrowableMemory<TPMGL(M)>::size();
                
                //#line 227 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
                org::scalegraph::util::MemoryChunk<void>::template copy<TPMGL(M) >(
                  x10aux::nullCheck(src45897->FMGL(messages))->org::scalegraph::util::GrowableMemory<TPMGL(M)>::raw(),
                  ((x10_long)0ll), mesLocal, offset, size45898);
                
                //#line 229 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
                offset = ((x10_long) ((offset) + (size45898)));
            }
        }
        
    }
    
    // captured environment
    org::scalegraph::util::MemoryChunk<x10_int> mesOffset;
    org::scalegraph::util::MemoryChunk<TPMGL(M)> mesTmp;
    org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* saved_this;
    x10_int numPlaces;
    
    x10aux::serialization_id_t _get_serialization_id() {
        return _serialization_id;
    }
    
    void _serialize_body(x10aux::serialization_buffer &buf) {
        buf.write(this->mesOffset);
        buf.write(this->mesTmp);
        buf.write(this->saved_this);
        buf.write(this->numPlaces);
    }
    
    template<class __T> static __T* _deserialize(x10aux::deserialization_buffer &buf) {
        org_scalegraph_xpregel_MessageCommunicator__closure__3<TPMGL(M) >* storage = x10aux::alloc<org_scalegraph_xpregel_MessageCommunicator__closure__3<TPMGL(M) > >();
        buf.record_reference(storage);
        org::scalegraph::util::MemoryChunk<x10_int> that_mesOffset = buf.read<org::scalegraph::util::MemoryChunk<x10_int> >();
        org::scalegraph::util::MemoryChunk<TPMGL(M)> that_mesTmp = buf.read<org::scalegraph::util::MemoryChunk<TPMGL(M)> >();
        org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* that_saved_this = buf.read<org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>*>();
        x10_int that_numPlaces = buf.read<x10_int>();
        org_scalegraph_xpregel_MessageCommunicator__closure__3<TPMGL(M) >* this_ = new (storage) org_scalegraph_xpregel_MessageCommunicator__closure__3<TPMGL(M) >(that_mesOffset, that_mesTmp, that_saved_this, that_numPlaces);
        return this_;
    }
    
    org_scalegraph_xpregel_MessageCommunicator__closure__3(org::scalegraph::util::MemoryChunk<x10_int> mesOffset, org::scalegraph::util::MemoryChunk<TPMGL(M)> mesTmp, org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* saved_this, x10_int numPlaces) : mesOffset(mesOffset), mesTmp(mesTmp), saved_this(saved_this), numPlaces(numPlaces) { }
    
    static const x10aux::serialization_id_t _serialization_id;
    
    static const x10aux::RuntimeType* getRTT() { return x10aux::getRTT<x10::lang::VoidFun_0_1<x10_long> >(); }
    virtual const x10aux::RuntimeType *_type() const { return x10aux::getRTT<x10::lang::VoidFun_0_1<x10_long> >(); }
    
    x10::lang::String* toString() {
        return x10aux::makeStringLit(this->toNativeString());
    }
    
    const char* toNativeString() {
        return "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10:219-231";
    }

};

template<class TPMGL(M)> typename x10::lang::VoidFun_0_1<x10_long>::template itable <org_scalegraph_xpregel_MessageCommunicator__closure__3<TPMGL(M) > >org_scalegraph_xpregel_MessageCommunicator__closure__3<TPMGL(M) >::_itable(&x10::lang::Reference::equals, &x10::lang::Closure::hashCode, &org_scalegraph_xpregel_MessageCommunicator__closure__3<TPMGL(M) >::__apply, &org_scalegraph_xpregel_MessageCommunicator__closure__3<TPMGL(M) >::toString, &x10::lang::Closure::typeName);
template<class TPMGL(M)> x10aux::itable_entry org_scalegraph_xpregel_MessageCommunicator__closure__3<TPMGL(M) >::_itables[2] = {x10aux::itable_entry(&x10aux::getRTT<x10::lang::VoidFun_0_1<x10_long> >, &org_scalegraph_xpregel_MessageCommunicator__closure__3<TPMGL(M) >::_itable),x10aux::itable_entry(NULL, NULL)};

template<class TPMGL(M)> const x10aux::serialization_id_t org_scalegraph_xpregel_MessageCommunicator__closure__3<TPMGL(M) >::_serialization_id = 
    x10aux::DeserializationDispatcher::addDeserializer(org_scalegraph_xpregel_MessageCommunicator__closure__3<TPMGL(M) >::template _deserialize<x10::lang::Reference>,x10aux::CLOSURE_KIND_NOT_ASYNC);

#endif // ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__3_CLOSURE
#ifndef ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__4_CLOSURE
#define ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__4_CLOSURE
#include <x10/lang/Closure.h>
#include <x10/lang/VoidFun_0_1.h>
template<class TPMGL(M)> class org_scalegraph_xpregel_MessageCommunicator__closure__4 : public x10::lang::Closure {
    public:
    
    static typename x10::lang::VoidFun_0_1<x10_long>::template itable <org_scalegraph_xpregel_MessageCommunicator__closure__4<TPMGL(M) > > _itable;
    static x10aux::itable_entry _itables[2];
    
    virtual x10aux::itable_entry* _getITables() { return _itables; }
    
    // closure body
    void __apply(x10_long p) {
        
        //#line 236 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_int pstart = mesOffset->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                           p);
        
        //#line 237 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_int plength = ((x10_int) ((mesOffset->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                                         ((x10_long) ((p) + (((x10_long) (((x10_int)1)))))))) - (pstart)));
        
        //#line 238 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
        if ((x10aux::struct_equals(plength, ((x10_int)0))))
        {
            
            //#line 238 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10Return_c
            return;
        }
        
        //#line 240 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        org::scalegraph::util::MemoryChunk<TPMGL(M)> mesLocal =
          mesTmp->org::scalegraph::util::MemoryChunk<TPMGL(M)>::subpart(
            ((x10_long) (pstart)), ((x10_long) (plength)));
        
        //#line 241 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        org::scalegraph::util::MemoryChunk<x10_long> idsLocal =
          idsTmp->org::scalegraph::util::MemoryChunk<x10_long>::subpart(
            ((x10_long) (pstart)), ((x10_long) (plength)));
        
        //#line 244 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        org::scalegraph::util::Algorithm::template sort<x10_long,
        TPMGL(M) >(idsLocal, mesLocal);
        
        //#line 247 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_int resultLength = ((x10_int)0);
        
        //#line 248 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long start = ((x10_long) (((x10_int)0)));
        
        //#line 249 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long length = ((x10_long) (((x10_int)1)));
        
        //#line 250 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long vid = idsLocal->org::scalegraph::util::MemoryChunk<x10_long>::__apply(
                         ((x10_int)0));
        
        //#line 251 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long i45674min45903 = ((x10_long)1ll);
        
        //#line 251 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long i45674max45904 = ((x10_long) ((idsLocal->org::scalegraph::util::MemoryChunk<x10_long>::size()) - (((x10_long) (((x10_int)1))))));
        
        //#line 251 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.For_c
        {
            x10_long i45905;
            for (
                 //#line 251 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                 i45905 = i45674min45903; ((i45905) <= (i45674max45904));
                 
                 //#line 251 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
                 i45905 = ((x10_long) ((i45905) + (((x10_long)1ll)))))
            {
                
                //#line 251 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                x10_long i45906 = i45905;
                
                //#line 252 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
                if ((x10aux::struct_equals(vid, idsLocal->org::scalegraph::util::MemoryChunk<x10_long>::__apply(
                                                  i45906))))
                {
                    
                    //#line 253 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
                    length = ((x10_long) ((length) + (((x10_long)1ll))));
                } else {
                    
                    //#line 256 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
                    if (((length) > (((x10_long) (((x10_int)1))))))
                    {
                        
                        //#line 257 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
                        mesLocal->org::scalegraph::util::MemoryChunk<TPMGL(M)>::__set(
                          resultLength, x10::lang::Fun_0_1<org::scalegraph::util::MemoryChunk<TPMGL(M)>, TPMGL(M)>::__apply(x10aux::nullCheck(combine), 
                            mesLocal->org::scalegraph::util::MemoryChunk<TPMGL(M)>::subpart(
                              start, length)));
                    } else {
                        
                        //#line 260 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.Assert_c
                        #ifndef NO_ASSERTIONS
                        if (x10aux::x10__assertions_enabled)
                            x10aux::x10__assert((x10aux::struct_equals(length,
                                                                       ((x10_long)1ll))));
                        #endif//NO_ASSERTIONS
                        
                        //#line 261 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
                        mesLocal->org::scalegraph::util::MemoryChunk<TPMGL(M)>::__set(
                          resultLength, mesLocal->org::scalegraph::util::MemoryChunk<TPMGL(M)>::__apply(
                                          start));
                    }
                    
                    //#line 263 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
                    idsLocal->org::scalegraph::util::MemoryChunk<x10_long>::__set(
                      ((x10_int) ((resultLength = ((x10_int) ((resultLength) + (((x10_int)1))))) - (((x10_int)1)))),
                      vid);
                    
                    //#line 264 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
                    start = i45906;
                    
                    //#line 265 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
                    length = ((x10_long) (((x10_int)1)));
                    
                    //#line 266 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
                    vid = idsLocal->org::scalegraph::util::MemoryChunk<x10_long>::__apply(
                            i45906);
                }
                
            }
        }
        
        //#line 269 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
        if (((length) > (((x10_long) (((x10_int)1)))))) {
            
            //#line 270 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
            mesLocal->org::scalegraph::util::MemoryChunk<TPMGL(M)>::__set(
              resultLength, x10::lang::Fun_0_1<org::scalegraph::util::MemoryChunk<TPMGL(M)>, TPMGL(M)>::__apply(x10aux::nullCheck(combine), 
                mesLocal->org::scalegraph::util::MemoryChunk<TPMGL(M)>::subpart(
                  start, length)));
        } else {
            
            //#line 273 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.Assert_c
            #ifndef NO_ASSERTIONS
            if (x10aux::x10__assertions_enabled)
                x10aux::x10__assert((x10aux::struct_equals(length,
                                                           ((x10_long)1ll))));
            #endif//NO_ASSERTIONS
            
            //#line 274 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
            mesLocal->org::scalegraph::util::MemoryChunk<TPMGL(M)>::__set(
              resultLength, mesLocal->org::scalegraph::util::MemoryChunk<TPMGL(M)>::__apply(
                              start));
        }
        
        //#line 276 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        idsLocal->org::scalegraph::util::MemoryChunk<x10_long>::__set(
          ((x10_int) ((resultLength = ((x10_int) ((resultLength) + (((x10_int)1))))) - (((x10_int)1)))),
          vid);
        
        //#line 277 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        saved_this->FMGL(mUCSCount)->org::scalegraph::util::MemoryChunk<x10_int>::__set(
          p, resultLength);
    }
    
    // captured environment
    org::scalegraph::util::MemoryChunk<x10_int> mesOffset;
    org::scalegraph::util::MemoryChunk<TPMGL(M)> mesTmp;
    org::scalegraph::util::MemoryChunk<x10_long> idsTmp;
    x10::lang::Fun_0_1<org::scalegraph::util::MemoryChunk<TPMGL(M)>, TPMGL(M)>* combine;
    org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* saved_this;
    
    x10aux::serialization_id_t _get_serialization_id() {
        return _serialization_id;
    }
    
    void _serialize_body(x10aux::serialization_buffer &buf) {
        buf.write(this->mesOffset);
        buf.write(this->mesTmp);
        buf.write(this->idsTmp);
        buf.write(this->combine);
        buf.write(this->saved_this);
    }
    
    template<class __T> static __T* _deserialize(x10aux::deserialization_buffer &buf) {
        org_scalegraph_xpregel_MessageCommunicator__closure__4<TPMGL(M) >* storage = x10aux::alloc<org_scalegraph_xpregel_MessageCommunicator__closure__4<TPMGL(M) > >();
        buf.record_reference(storage);
        org::scalegraph::util::MemoryChunk<x10_int> that_mesOffset = buf.read<org::scalegraph::util::MemoryChunk<x10_int> >();
        org::scalegraph::util::MemoryChunk<TPMGL(M)> that_mesTmp = buf.read<org::scalegraph::util::MemoryChunk<TPMGL(M)> >();
        org::scalegraph::util::MemoryChunk<x10_long> that_idsTmp = buf.read<org::scalegraph::util::MemoryChunk<x10_long> >();
        x10::lang::Fun_0_1<org::scalegraph::util::MemoryChunk<TPMGL(M)>, TPMGL(M)>* that_combine = buf.read<x10::lang::Fun_0_1<org::scalegraph::util::MemoryChunk<TPMGL(M)>, TPMGL(M)>*>();
        org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* that_saved_this = buf.read<org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>*>();
        org_scalegraph_xpregel_MessageCommunicator__closure__4<TPMGL(M) >* this_ = new (storage) org_scalegraph_xpregel_MessageCommunicator__closure__4<TPMGL(M) >(that_mesOffset, that_mesTmp, that_idsTmp, that_combine, that_saved_this);
        return this_;
    }
    
    org_scalegraph_xpregel_MessageCommunicator__closure__4(org::scalegraph::util::MemoryChunk<x10_int> mesOffset, org::scalegraph::util::MemoryChunk<TPMGL(M)> mesTmp, org::scalegraph::util::MemoryChunk<x10_long> idsTmp, x10::lang::Fun_0_1<org::scalegraph::util::MemoryChunk<TPMGL(M)>, TPMGL(M)>* combine, org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* saved_this) : mesOffset(mesOffset), mesTmp(mesTmp), idsTmp(idsTmp), combine(combine), saved_this(saved_this) { }
    
    static const x10aux::serialization_id_t _serialization_id;
    
    static const x10aux::RuntimeType* getRTT() { return x10aux::getRTT<x10::lang::VoidFun_0_1<x10_long> >(); }
    virtual const x10aux::RuntimeType *_type() const { return x10aux::getRTT<x10::lang::VoidFun_0_1<x10_long> >(); }
    
    x10::lang::String* toString() {
        return x10aux::makeStringLit(this->toNativeString());
    }
    
    const char* toNativeString() {
        return "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10:235-278";
    }

};

template<class TPMGL(M)> typename x10::lang::VoidFun_0_1<x10_long>::template itable <org_scalegraph_xpregel_MessageCommunicator__closure__4<TPMGL(M) > >org_scalegraph_xpregel_MessageCommunicator__closure__4<TPMGL(M) >::_itable(&x10::lang::Reference::equals, &x10::lang::Closure::hashCode, &org_scalegraph_xpregel_MessageCommunicator__closure__4<TPMGL(M) >::__apply, &org_scalegraph_xpregel_MessageCommunicator__closure__4<TPMGL(M) >::toString, &x10::lang::Closure::typeName);
template<class TPMGL(M)> x10aux::itable_entry org_scalegraph_xpregel_MessageCommunicator__closure__4<TPMGL(M) >::_itables[2] = {x10aux::itable_entry(&x10aux::getRTT<x10::lang::VoidFun_0_1<x10_long> >, &org_scalegraph_xpregel_MessageCommunicator__closure__4<TPMGL(M) >::_itable),x10aux::itable_entry(NULL, NULL)};

template<class TPMGL(M)> const x10aux::serialization_id_t org_scalegraph_xpregel_MessageCommunicator__closure__4<TPMGL(M) >::_serialization_id = 
    x10aux::DeserializationDispatcher::addDeserializer(org_scalegraph_xpregel_MessageCommunicator__closure__4<TPMGL(M) >::template _deserialize<x10::lang::Reference>,x10aux::CLOSURE_KIND_NOT_ASYNC);

#endif // ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__4_CLOSURE
#ifndef ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__5_CLOSURE
#define ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__5_CLOSURE
#include <x10/lang/Closure.h>
#include <x10/lang/VoidFun_0_1.h>
template<class TPMGL(M)> class org_scalegraph_xpregel_MessageCommunicator__closure__5 : public x10::lang::Closure {
    public:
    
    static typename x10::lang::VoidFun_0_1<x10_int>::template itable <org_scalegraph_xpregel_MessageCommunicator__closure__5<TPMGL(M) > > _itable;
    static x10aux::itable_entry _itables[2];
    
    virtual x10aux::itable_entry* _getITables() { return _itables; }
    
    // closure body
    void __apply(x10_int p) {
        
        //#line 295 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long tmpOffset = ((x10_long) (mesOffset->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                                            p)));
        
        //#line 296 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long bufOffset = ((x10_long) (saved_this->FMGL(mUCSOffset)->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                                            p)));
        
        //#line 297 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long length = ((x10_long) (saved_this->FMGL(mUCSCount)->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                                         p)));
        
        //#line 298 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.Assert_c
        #ifndef NO_ASSERTIONS
        if (x10aux::x10__assertions_enabled)
            x10aux::x10__assert((x10aux::struct_equals(((x10_long) ((((x10_long) (saved_this->
                                                                                    FMGL(mUCSOffset)->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                                                                                    ((x10_int) ((p) + (((x10_int)1)))))))) - (bufOffset))),
                                                       length)));
        #endif//NO_ASSERTIONS
        
        //#line 299 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        org::scalegraph::util::MemoryChunk<void>::template copy<TPMGL(M) >(
          mesTmp, tmpOffset, mesBuffer, bufOffset, length);
        
        //#line 300 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        org::scalegraph::util::MemoryChunk<void>::template copy<x10_long >(
          idsTmp, tmpOffset, idsBuffer, bufOffset, length);
    }
    
    // captured environment
    org::scalegraph::util::MemoryChunk<x10_int> mesOffset;
    org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* saved_this;
    org::scalegraph::util::MemoryChunk<TPMGL(M)> mesTmp;
    org::scalegraph::util::MemoryChunk<TPMGL(M)> mesBuffer;
    org::scalegraph::util::MemoryChunk<x10_long> idsTmp;
    org::scalegraph::util::MemoryChunk<x10_long> idsBuffer;
    
    x10aux::serialization_id_t _get_serialization_id() {
        return _serialization_id;
    }
    
    void _serialize_body(x10aux::serialization_buffer &buf) {
        buf.write(this->mesOffset);
        buf.write(this->saved_this);
        buf.write(this->mesTmp);
        buf.write(this->mesBuffer);
        buf.write(this->idsTmp);
        buf.write(this->idsBuffer);
    }
    
    template<class __T> static __T* _deserialize(x10aux::deserialization_buffer &buf) {
        org_scalegraph_xpregel_MessageCommunicator__closure__5<TPMGL(M) >* storage = x10aux::alloc<org_scalegraph_xpregel_MessageCommunicator__closure__5<TPMGL(M) > >();
        buf.record_reference(storage);
        org::scalegraph::util::MemoryChunk<x10_int> that_mesOffset = buf.read<org::scalegraph::util::MemoryChunk<x10_int> >();
        org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* that_saved_this = buf.read<org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>*>();
        org::scalegraph::util::MemoryChunk<TPMGL(M)> that_mesTmp = buf.read<org::scalegraph::util::MemoryChunk<TPMGL(M)> >();
        org::scalegraph::util::MemoryChunk<TPMGL(M)> that_mesBuffer = buf.read<org::scalegraph::util::MemoryChunk<TPMGL(M)> >();
        org::scalegraph::util::MemoryChunk<x10_long> that_idsTmp = buf.read<org::scalegraph::util::MemoryChunk<x10_long> >();
        org::scalegraph::util::MemoryChunk<x10_long> that_idsBuffer = buf.read<org::scalegraph::util::MemoryChunk<x10_long> >();
        org_scalegraph_xpregel_MessageCommunicator__closure__5<TPMGL(M) >* this_ = new (storage) org_scalegraph_xpregel_MessageCommunicator__closure__5<TPMGL(M) >(that_mesOffset, that_saved_this, that_mesTmp, that_mesBuffer, that_idsTmp, that_idsBuffer);
        return this_;
    }
    
    org_scalegraph_xpregel_MessageCommunicator__closure__5(org::scalegraph::util::MemoryChunk<x10_int> mesOffset, org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* saved_this, org::scalegraph::util::MemoryChunk<TPMGL(M)> mesTmp, org::scalegraph::util::MemoryChunk<TPMGL(M)> mesBuffer, org::scalegraph::util::MemoryChunk<x10_long> idsTmp, org::scalegraph::util::MemoryChunk<x10_long> idsBuffer) : mesOffset(mesOffset), saved_this(saved_this), mesTmp(mesTmp), mesBuffer(mesBuffer), idsTmp(idsTmp), idsBuffer(idsBuffer) { }
    
    static const x10aux::serialization_id_t _serialization_id;
    
    static const x10aux::RuntimeType* getRTT() { return x10aux::getRTT<x10::lang::VoidFun_0_1<x10_int> >(); }
    virtual const x10aux::RuntimeType *_type() const { return x10aux::getRTT<x10::lang::VoidFun_0_1<x10_int> >(); }
    
    x10::lang::String* toString() {
        return x10aux::makeStringLit(this->toNativeString());
    }
    
    const char* toNativeString() {
        return "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10:294-301";
    }

};

template<class TPMGL(M)> typename x10::lang::VoidFun_0_1<x10_int>::template itable <org_scalegraph_xpregel_MessageCommunicator__closure__5<TPMGL(M) > >org_scalegraph_xpregel_MessageCommunicator__closure__5<TPMGL(M) >::_itable(&x10::lang::Reference::equals, &x10::lang::Closure::hashCode, &org_scalegraph_xpregel_MessageCommunicator__closure__5<TPMGL(M) >::__apply, &org_scalegraph_xpregel_MessageCommunicator__closure__5<TPMGL(M) >::toString, &x10::lang::Closure::typeName);
template<class TPMGL(M)> x10aux::itable_entry org_scalegraph_xpregel_MessageCommunicator__closure__5<TPMGL(M) >::_itables[2] = {x10aux::itable_entry(&x10aux::getRTT<x10::lang::VoidFun_0_1<x10_int> >, &org_scalegraph_xpregel_MessageCommunicator__closure__5<TPMGL(M) >::_itable),x10aux::itable_entry(NULL, NULL)};

template<class TPMGL(M)> const x10aux::serialization_id_t org_scalegraph_xpregel_MessageCommunicator__closure__5<TPMGL(M) >::_serialization_id = 
    x10aux::DeserializationDispatcher::addDeserializer(org_scalegraph_xpregel_MessageCommunicator__closure__5<TPMGL(M) >::template _deserialize<x10::lang::Reference>,x10aux::CLOSURE_KIND_NOT_ASYNC);

#endif // ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__5_CLOSURE
#ifndef ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__6_CLOSURE
#define ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__6_CLOSURE
#include <x10/lang/Closure.h>
#include <x10/lang/VoidFun_0_2.h>
template<class TPMGL(M)> class org_scalegraph_xpregel_MessageCommunicator__closure__6 : public x10::lang::Closure {
    public:
    
    static typename x10::lang::VoidFun_0_2<x10_long, x10::lang::LongRange>::template itable <org_scalegraph_xpregel_MessageCommunicator__closure__6<TPMGL(M) > > _itable;
    static x10aux::itable_entry _itables[2];
    
    virtual x10aux::itable_entry* _getITables() { return _itables; }
    
    // closure body
    void __apply(x10_long tid, x10::lang::LongRange r) {
        
        //#line 331 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10::lang::LongRange i45706domain45933 = r;
        
        //#line 331 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long i45706min45934 = i45706domain45933->FMGL(min);
        
        //#line 331 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long i45706max45935 = i45706domain45933->FMGL(max);
        
        //#line 331 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.For_c
        {
            x10_long i45936;
            for (
                 //#line 331 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                 i45936 = i45706min45934; ((i45936) <= (i45706max45935));
                 
                 //#line 331 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
                 i45936 = ((x10_long) ((i45936) + (((x10_long)1ll))))) {
                
                //#line 331 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                x10_long i45937 = i45936;
                
                //#line 331 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
                tmpMask->org::scalegraph::util::Bitmap::atomicSet(saved_this->
                                                                    FMGL(mInEdgesVertex)->org::scalegraph::util::MemoryChunk<x10_long>::__apply(
                                                                    i45937));
            }
        }
        
    }
    
    // captured environment
    org::scalegraph::util::Bitmap* tmpMask;
    org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* saved_this;
    
    x10aux::serialization_id_t _get_serialization_id() {
        return _serialization_id;
    }
    
    void _serialize_body(x10aux::serialization_buffer &buf) {
        buf.write(this->tmpMask);
        buf.write(this->saved_this);
    }
    
    template<class __T> static __T* _deserialize(x10aux::deserialization_buffer &buf) {
        org_scalegraph_xpregel_MessageCommunicator__closure__6<TPMGL(M) >* storage = x10aux::alloc<org_scalegraph_xpregel_MessageCommunicator__closure__6<TPMGL(M) > >();
        buf.record_reference(storage);
        org::scalegraph::util::Bitmap* that_tmpMask = buf.read<org::scalegraph::util::Bitmap*>();
        org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* that_saved_this = buf.read<org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>*>();
        org_scalegraph_xpregel_MessageCommunicator__closure__6<TPMGL(M) >* this_ = new (storage) org_scalegraph_xpregel_MessageCommunicator__closure__6<TPMGL(M) >(that_tmpMask, that_saved_this);
        return this_;
    }
    
    org_scalegraph_xpregel_MessageCommunicator__closure__6(org::scalegraph::util::Bitmap* tmpMask, org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* saved_this) : tmpMask(tmpMask), saved_this(saved_this) { }
    
    static const x10aux::serialization_id_t _serialization_id;
    
    static const x10aux::RuntimeType* getRTT() { return x10aux::getRTT<x10::lang::VoidFun_0_2<x10_long, x10::lang::LongRange> >(); }
    virtual const x10aux::RuntimeType *_type() const { return x10aux::getRTT<x10::lang::VoidFun_0_2<x10_long, x10::lang::LongRange> >(); }
    
    x10::lang::String* toString() {
        return x10aux::makeStringLit(this->toNativeString());
    }
    
    const char* toNativeString() {
        return "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10:330-332";
    }

};

template<class TPMGL(M)> typename x10::lang::VoidFun_0_2<x10_long, x10::lang::LongRange>::template itable <org_scalegraph_xpregel_MessageCommunicator__closure__6<TPMGL(M) > >org_scalegraph_xpregel_MessageCommunicator__closure__6<TPMGL(M) >::_itable(&x10::lang::Reference::equals, &x10::lang::Closure::hashCode, &org_scalegraph_xpregel_MessageCommunicator__closure__6<TPMGL(M) >::__apply, &org_scalegraph_xpregel_MessageCommunicator__closure__6<TPMGL(M) >::toString, &x10::lang::Closure::typeName);
template<class TPMGL(M)> x10aux::itable_entry org_scalegraph_xpregel_MessageCommunicator__closure__6<TPMGL(M) >::_itables[2] = {x10aux::itable_entry(&x10aux::getRTT<x10::lang::VoidFun_0_2<x10_long, x10::lang::LongRange> >, &org_scalegraph_xpregel_MessageCommunicator__closure__6<TPMGL(M) >::_itable),x10aux::itable_entry(NULL, NULL)};

template<class TPMGL(M)> const x10aux::serialization_id_t org_scalegraph_xpregel_MessageCommunicator__closure__6<TPMGL(M) >::_serialization_id = 
    x10aux::DeserializationDispatcher::addDeserializer(org_scalegraph_xpregel_MessageCommunicator__closure__6<TPMGL(M) >::template _deserialize<x10::lang::Reference>,x10aux::CLOSURE_KIND_NOT_ASYNC);

#endif // ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__6_CLOSURE
#ifndef ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__7_CLOSURE
#define ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__7_CLOSURE
#include <x10/lang/Closure.h>
#include <x10/lang/VoidFun_0_1.h>
template<class TPMGL(M)> class org_scalegraph_xpregel_MessageCommunicator__closure__7 : public x10::lang::Closure {
    public:
    
    static typename x10::lang::VoidFun_0_1<x10_long>::template itable <org_scalegraph_xpregel_MessageCommunicator__closure__7<TPMGL(M) > > _itable;
    static x10aux::itable_entry _itables[2];
    
    virtual x10aux::itable_entry* _getITables() { return _itables; }
    
    // closure body
    void __apply(x10_long p) {
        
        //#line 367 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long startWordOffset = x10::lang::Math::max(org::scalegraph::util::Bitmap::offset(
                                                          ((x10_long) ((numLocalVertexesBC) * (p)))),
                                                        p);
        
        //#line 368 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long lengthInWords = org::scalegraph::util::Bitmap::numWords(
                                   numLocalVertexesBC);
        
        //#line 369 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        org::scalegraph::util::MemoryChunk<x10_ulong> placeHasMessage =
          x10aux::nullCheck(saved_this->FMGL(mBCSMask))->org::scalegraph::util::Bitmap::raw()->org::scalegraph::util::MemoryChunk<x10_ulong>::subpart(
            startWordOffset, lengthInWords);
        
        //#line 370 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        org::scalegraph::util::MemoryChunk<x10_ulong> placeInEdgeMask =
          x10aux::nullCheck(saved_this->FMGL(mInEdgesMask))->org::scalegraph::util::Bitmap::raw()->org::scalegraph::util::MemoryChunk<x10_ulong>::subpart(
            startWordOffset, lengthInWords);
        
        //#line 371 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        org::scalegraph::util::MemoryChunk<x10_ulong> rawHasMessage =
          x10aux::nullCheck(saved_this->FMGL(mBCCHasMessage))->org::scalegraph::util::Bitmap::raw();
        
        //#line 373 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_int placeNumMessage = ((x10_int)0);
        
        //#line 376 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long i45723min45938 = ((x10_long) (((x10_int)0)));
        
        //#line 376 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long i45723max45939 = ((x10_long) ((rawHasMessage->org::scalegraph::util::MemoryChunk<x10_ulong>::size()) - (((x10_long) (((x10_int)1))))));
        
        //#line 376 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.For_c
        {
            x10_long i45940;
            for (
                 //#line 376 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                 i45940 = i45723min45938; ((i45940) <= (i45723max45939));
                 
                 //#line 376 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
                 i45940 = ((x10_long) ((i45940) + (((x10_long)1ll)))))
            {
                
                //#line 376 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                x10_long i45941 = i45940;
                
                //#line 377 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
                placeHasMessage->org::scalegraph::util::MemoryChunk<x10_ulong>::__set(
                  i45941, ((x10_ulong) ((rawHasMessage->org::scalegraph::util::MemoryChunk<x10_ulong>::__apply(
                                           i45941)) & (placeInEdgeMask->org::scalegraph::util::MemoryChunk<x10_ulong>::__apply(
                                                         i45941)))));
                
                //#line 378 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
                placeNumMessage = ((x10_int) ((placeNumMessage) + (__builtin_popcountl(placeHasMessage->org::scalegraph::util::MemoryChunk<x10_ulong>::__apply(
                                                                                         i45941)))));
            }
        }
        
        //#line 380 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long i45739min45942 = rawHasMessage->org::scalegraph::util::MemoryChunk<x10_ulong>::size();
        
        //#line 380 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long i45739max45943 = ((x10_long) ((placeInEdgeMask->org::scalegraph::util::MemoryChunk<x10_ulong>::size()) - (((x10_long) (((x10_int)1))))));
        
        //#line 380 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.For_c
        {
            x10_long i45944;
            for (
                 //#line 380 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                 i45944 = i45739min45942; ((i45944) <= (i45739max45943));
                 
                 //#line 380 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
                 i45944 = ((x10_long) ((i45944) + (((x10_long)1ll)))))
            {
                
                //#line 380 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                x10_long i45945 = i45944;
                
                //#line 381 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
                placeHasMessage->org::scalegraph::util::MemoryChunk<x10_ulong>::__set(
                  i45945, ((x10_ulong) (((x10_long)0ll))));
            }
        }
        
        //#line 383 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        saved_this->FMGL(mBCSCount)->org::scalegraph::util::MemoryChunk<x10_int>::__set(
          p, placeNumMessage);
    }
    
    // captured environment
    x10_long numLocalVertexesBC;
    org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* saved_this;
    
    x10aux::serialization_id_t _get_serialization_id() {
        return _serialization_id;
    }
    
    void _serialize_body(x10aux::serialization_buffer &buf) {
        buf.write(this->numLocalVertexesBC);
        buf.write(this->saved_this);
    }
    
    template<class __T> static __T* _deserialize(x10aux::deserialization_buffer &buf) {
        org_scalegraph_xpregel_MessageCommunicator__closure__7<TPMGL(M) >* storage = x10aux::alloc<org_scalegraph_xpregel_MessageCommunicator__closure__7<TPMGL(M) > >();
        buf.record_reference(storage);
        x10_long that_numLocalVertexesBC = buf.read<x10_long>();
        org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* that_saved_this = buf.read<org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>*>();
        org_scalegraph_xpregel_MessageCommunicator__closure__7<TPMGL(M) >* this_ = new (storage) org_scalegraph_xpregel_MessageCommunicator__closure__7<TPMGL(M) >(that_numLocalVertexesBC, that_saved_this);
        return this_;
    }
    
    org_scalegraph_xpregel_MessageCommunicator__closure__7(x10_long numLocalVertexesBC, org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* saved_this) : numLocalVertexesBC(numLocalVertexesBC), saved_this(saved_this) { }
    
    static const x10aux::serialization_id_t _serialization_id;
    
    static const x10aux::RuntimeType* getRTT() { return x10aux::getRTT<x10::lang::VoidFun_0_1<x10_long> >(); }
    virtual const x10aux::RuntimeType *_type() const { return x10aux::getRTT<x10::lang::VoidFun_0_1<x10_long> >(); }
    
    x10::lang::String* toString() {
        return x10aux::makeStringLit(this->toNativeString());
    }
    
    const char* toNativeString() {
        return "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10:366-384";
    }

};

template<class TPMGL(M)> typename x10::lang::VoidFun_0_1<x10_long>::template itable <org_scalegraph_xpregel_MessageCommunicator__closure__7<TPMGL(M) > >org_scalegraph_xpregel_MessageCommunicator__closure__7<TPMGL(M) >::_itable(&x10::lang::Reference::equals, &x10::lang::Closure::hashCode, &org_scalegraph_xpregel_MessageCommunicator__closure__7<TPMGL(M) >::__apply, &org_scalegraph_xpregel_MessageCommunicator__closure__7<TPMGL(M) >::toString, &x10::lang::Closure::typeName);
template<class TPMGL(M)> x10aux::itable_entry org_scalegraph_xpregel_MessageCommunicator__closure__7<TPMGL(M) >::_itables[2] = {x10aux::itable_entry(&x10aux::getRTT<x10::lang::VoidFun_0_1<x10_long> >, &org_scalegraph_xpregel_MessageCommunicator__closure__7<TPMGL(M) >::_itable),x10aux::itable_entry(NULL, NULL)};

template<class TPMGL(M)> const x10aux::serialization_id_t org_scalegraph_xpregel_MessageCommunicator__closure__7<TPMGL(M) >::_serialization_id = 
    x10aux::DeserializationDispatcher::addDeserializer(org_scalegraph_xpregel_MessageCommunicator__closure__7<TPMGL(M) >::template _deserialize<x10::lang::Reference>,x10aux::CLOSURE_KIND_NOT_ASYNC);

#endif // ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__7_CLOSURE
#ifndef ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__8_CLOSURE
#define ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__8_CLOSURE
#include <x10/lang/Closure.h>
#include <x10/lang/VoidFun_0_2.h>
template<class TPMGL(M)> class org_scalegraph_xpregel_MessageCommunicator__closure__8 : public x10::lang::Closure {
    public:
    
    static typename x10::lang::VoidFun_0_2<x10_long, x10::lang::LongRange>::template itable <org_scalegraph_xpregel_MessageCommunicator__closure__8<TPMGL(M) > > _itable;
    static x10aux::itable_entry _itables[2];
    
    virtual x10aux::itable_entry* _getITables() { return _itables; }
    
    // closure body
    void __apply(x10_long tid, x10::lang::LongRange r) {
        
        //#line 387 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        org::scalegraph::util::MemoryChunk<x10_ulong> rawHasMessage = x10aux::nullCheck(saved_this->
                                                                                          FMGL(mBCCHasMessage))->org::scalegraph::util::Bitmap::raw();
        
        //#line 388 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10::lang::LongRange i45755domain45946 = r;
        
        //#line 388 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long i45755min45947 = i45755domain45946->FMGL(min);
        
        //#line 388 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long i45755max45948 = i45755domain45946->FMGL(max);
        
        //#line 388 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.For_c
        {
            x10_long i45949;
            for (
                 //#line 388 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                 i45949 = i45755min45947; ((i45949) <= (i45755max45948));
                 
                 //#line 388 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
                 i45949 = ((x10_long) ((i45949) + (((x10_long)1ll)))))
            {
                
                //#line 388 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                x10_long i45950 = i45949;
                
                //#line 388 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
                rawHasMessage->org::scalegraph::util::MemoryChunk<x10_ulong>::__set(
                  i45950, ((x10_ulong)0ull));
            }
        }
        
    }
    
    // captured environment
    org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* saved_this;
    
    x10aux::serialization_id_t _get_serialization_id() {
        return _serialization_id;
    }
    
    void _serialize_body(x10aux::serialization_buffer &buf) {
        buf.write(this->saved_this);
    }
    
    template<class __T> static __T* _deserialize(x10aux::deserialization_buffer &buf) {
        org_scalegraph_xpregel_MessageCommunicator__closure__8<TPMGL(M) >* storage = x10aux::alloc<org_scalegraph_xpregel_MessageCommunicator__closure__8<TPMGL(M) > >();
        buf.record_reference(storage);
        org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* that_saved_this = buf.read<org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>*>();
        org_scalegraph_xpregel_MessageCommunicator__closure__8<TPMGL(M) >* this_ = new (storage) org_scalegraph_xpregel_MessageCommunicator__closure__8<TPMGL(M) >(that_saved_this);
        return this_;
    }
    
    org_scalegraph_xpregel_MessageCommunicator__closure__8(org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* saved_this) : saved_this(saved_this) { }
    
    static const x10aux::serialization_id_t _serialization_id;
    
    static const x10aux::RuntimeType* getRTT() { return x10aux::getRTT<x10::lang::VoidFun_0_2<x10_long, x10::lang::LongRange> >(); }
    virtual const x10aux::RuntimeType *_type() const { return x10aux::getRTT<x10::lang::VoidFun_0_2<x10_long, x10::lang::LongRange> >(); }
    
    x10::lang::String* toString() {
        return x10aux::makeStringLit(this->toNativeString());
    }
    
    const char* toNativeString() {
        return "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10:386-389";
    }

};

template<class TPMGL(M)> typename x10::lang::VoidFun_0_2<x10_long, x10::lang::LongRange>::template itable <org_scalegraph_xpregel_MessageCommunicator__closure__8<TPMGL(M) > >org_scalegraph_xpregel_MessageCommunicator__closure__8<TPMGL(M) >::_itable(&x10::lang::Reference::equals, &x10::lang::Closure::hashCode, &org_scalegraph_xpregel_MessageCommunicator__closure__8<TPMGL(M) >::__apply, &org_scalegraph_xpregel_MessageCommunicator__closure__8<TPMGL(M) >::toString, &x10::lang::Closure::typeName);
template<class TPMGL(M)> x10aux::itable_entry org_scalegraph_xpregel_MessageCommunicator__closure__8<TPMGL(M) >::_itables[2] = {x10aux::itable_entry(&x10aux::getRTT<x10::lang::VoidFun_0_2<x10_long, x10::lang::LongRange> >, &org_scalegraph_xpregel_MessageCommunicator__closure__8<TPMGL(M) >::_itable),x10aux::itable_entry(NULL, NULL)};

template<class TPMGL(M)> const x10aux::serialization_id_t org_scalegraph_xpregel_MessageCommunicator__closure__8<TPMGL(M) >::_serialization_id = 
    x10aux::DeserializationDispatcher::addDeserializer(org_scalegraph_xpregel_MessageCommunicator__closure__8<TPMGL(M) >::template _deserialize<x10::lang::Reference>,x10aux::CLOSURE_KIND_NOT_ASYNC);

#endif // ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__8_CLOSURE
#ifndef ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__9_CLOSURE
#define ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__9_CLOSURE
#include <x10/lang/Closure.h>
#include <x10/lang/VoidFun_0_1.h>
template<class TPMGL(M)> class org_scalegraph_xpregel_MessageCommunicator__closure__9 : public x10::lang::Closure {
    public:
    
    static typename x10::lang::VoidFun_0_1<x10_long>::template itable <org_scalegraph_xpregel_MessageCommunicator__closure__9<TPMGL(M) > > _itable;
    static x10aux::itable_entry _itables[2];
    
    virtual x10aux::itable_entry* _getITables() { return _itables; }
    
    // closure body
    void __apply(x10_long p) {
        
        //#line 400 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long startWordOffset = x10::lang::Math::max(org::scalegraph::util::Bitmap::offset(
                                                          ((x10_long) ((numLocalVertexesBC) * (p)))),
                                                        p);
        
        //#line 401 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long lengthInWords = org::scalegraph::util::Bitmap::numWords(
                                   numLocalVertexesBC);
        
        //#line 402 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        org::scalegraph::util::Bitmap* placeHasMessage = org::scalegraph::util::Bitmap::_make(x10aux::nullCheck(saved_this->
                                                                                                                  FMGL(mBCSMask))->org::scalegraph::util::Bitmap::raw()->org::scalegraph::util::MemoryChunk<x10_ulong>::subpart(
                                                                                                startWordOffset,
                                                                                                lengthInWords));
        
        //#line 404 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_int start = saved_this->FMGL(mBCSOffset)->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                          p);
        
        //#line 405 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_int length = saved_this->FMGL(mBCSCount)->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                           p);
        
        //#line 406 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        org::scalegraph::util::MemoryChunk<TPMGL(M)> mesLocalBuffer =
          saved_this->FMGL(mBCSMessages)->org::scalegraph::util::MemoryChunk<TPMGL(M)>::subpart(
            ((x10_long) (start)), ((x10_long) (length)));
        
        //#line 408 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_int offset = ((x10_int) (((x10_long)0ll)));
        
        //#line 409 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10::lang::LongRange i45788domain45951 = saved_this->
                                                   FMGL(mBCCMessages)->org::scalegraph::util::MemoryChunk<TPMGL(M)>::range();
        
        //#line 409 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long i45788min45952 = i45788domain45951->FMGL(min);
        
        //#line 409 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long i45788max45953 = i45788domain45951->FMGL(max);
        
        //#line 409 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.For_c
        {
            x10_long i45954;
            for (
                 //#line 409 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                 i45954 = i45788min45952; ((i45954) <= (i45788max45953));
                 
                 //#line 409 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
                 i45954 = ((x10_long) ((i45954) + (((x10_long)1ll)))))
            {
                
                //#line 409 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                x10_long i45955 = i45954;
                
                //#line 410 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
                if (placeHasMessage->org::scalegraph::util::Bitmap::__apply(
                      i45955)) {
                    
                    //#line 411 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
                    mesLocalBuffer->org::scalegraph::util::MemoryChunk<TPMGL(M)>::__set(
                      ((x10_int) ((offset = ((x10_int) ((offset) + (((x10_int)1))))) - (((x10_int)1)))),
                      saved_this->FMGL(mBCCMessages)->org::scalegraph::util::MemoryChunk<TPMGL(M)>::__apply(
                        i45955));
                }
                
            }
        }
        
        //#line 414 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.Assert_c
        #ifndef NO_ASSERTIONS
        if (x10aux::x10__assertions_enabled)
            x10aux::x10__assert((x10aux::struct_equals(offset,
                                                       length)));
        #endif//NO_ASSERTIONS
        
    }
    
    // captured environment
    x10_long numLocalVertexesBC;
    org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* saved_this;
    
    x10aux::serialization_id_t _get_serialization_id() {
        return _serialization_id;
    }
    
    void _serialize_body(x10aux::serialization_buffer &buf) {
        buf.write(this->numLocalVertexesBC);
        buf.write(this->saved_this);
    }
    
    template<class __T> static __T* _deserialize(x10aux::deserialization_buffer &buf) {
        org_scalegraph_xpregel_MessageCommunicator__closure__9<TPMGL(M) >* storage = x10aux::alloc<org_scalegraph_xpregel_MessageCommunicator__closure__9<TPMGL(M) > >();
        buf.record_reference(storage);
        x10_long that_numLocalVertexesBC = buf.read<x10_long>();
        org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* that_saved_this = buf.read<org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>*>();
        org_scalegraph_xpregel_MessageCommunicator__closure__9<TPMGL(M) >* this_ = new (storage) org_scalegraph_xpregel_MessageCommunicator__closure__9<TPMGL(M) >(that_numLocalVertexesBC, that_saved_this);
        return this_;
    }
    
    org_scalegraph_xpregel_MessageCommunicator__closure__9(x10_long numLocalVertexesBC, org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* saved_this) : numLocalVertexesBC(numLocalVertexesBC), saved_this(saved_this) { }
    
    static const x10aux::serialization_id_t _serialization_id;
    
    static const x10aux::RuntimeType* getRTT() { return x10aux::getRTT<x10::lang::VoidFun_0_1<x10_long> >(); }
    virtual const x10aux::RuntimeType *_type() const { return x10aux::getRTT<x10::lang::VoidFun_0_1<x10_long> >(); }
    
    x10::lang::String* toString() {
        return x10aux::makeStringLit(this->toNativeString());
    }
    
    const char* toNativeString() {
        return "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10:399-415";
    }

};

template<class TPMGL(M)> typename x10::lang::VoidFun_0_1<x10_long>::template itable <org_scalegraph_xpregel_MessageCommunicator__closure__9<TPMGL(M) > >org_scalegraph_xpregel_MessageCommunicator__closure__9<TPMGL(M) >::_itable(&x10::lang::Reference::equals, &x10::lang::Closure::hashCode, &org_scalegraph_xpregel_MessageCommunicator__closure__9<TPMGL(M) >::__apply, &org_scalegraph_xpregel_MessageCommunicator__closure__9<TPMGL(M) >::toString, &x10::lang::Closure::typeName);
template<class TPMGL(M)> x10aux::itable_entry org_scalegraph_xpregel_MessageCommunicator__closure__9<TPMGL(M) >::_itables[2] = {x10aux::itable_entry(&x10aux::getRTT<x10::lang::VoidFun_0_1<x10_long> >, &org_scalegraph_xpregel_MessageCommunicator__closure__9<TPMGL(M) >::_itable),x10aux::itable_entry(NULL, NULL)};

template<class TPMGL(M)> const x10aux::serialization_id_t org_scalegraph_xpregel_MessageCommunicator__closure__9<TPMGL(M) >::_serialization_id = 
    x10aux::DeserializationDispatcher::addDeserializer(org_scalegraph_xpregel_MessageCommunicator__closure__9<TPMGL(M) >::template _deserialize<x10::lang::Reference>,x10aux::CLOSURE_KIND_NOT_ASYNC);

#endif // ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__9_CLOSURE
#ifndef ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__10_CLOSURE
#define ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__10_CLOSURE
#include <x10/lang/Closure.h>
#include <x10/lang/Fun_0_1.h>
template<class TPMGL(M)> class org_scalegraph_xpregel_MessageCommunicator__closure__10 : public x10::lang::Closure {
    public:
    
    static typename x10::lang::Fun_0_1<x10_long, x10_long>::template itable <org_scalegraph_xpregel_MessageCommunicator__closure__10<TPMGL(M) > > _itable;
    static x10aux::itable_entry _itables[2];
    
    virtual x10aux::itable_entry* _getITables() { return _itables; }
    
    // closure body
    x10_long __apply(x10_long i) {
        
        //#line 424 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10Return_c
        return x10aux::nullCheck(saved_this->FMGL(mUCCMessages)->org::scalegraph::util::MemoryChunk<org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> >::__apply(
                                   i)->FMGL(messages))->org::scalegraph::util::GrowableMemory<TPMGL(M)>::size();
        
    }
    
    // captured environment
    org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* saved_this;
    
    x10aux::serialization_id_t _get_serialization_id() {
        return _serialization_id;
    }
    
    void _serialize_body(x10aux::serialization_buffer &buf) {
        buf.write(this->saved_this);
    }
    
    template<class __T> static __T* _deserialize(x10aux::deserialization_buffer &buf) {
        org_scalegraph_xpregel_MessageCommunicator__closure__10<TPMGL(M) >* storage = x10aux::alloc<org_scalegraph_xpregel_MessageCommunicator__closure__10<TPMGL(M) > >();
        buf.record_reference(storage);
        org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* that_saved_this = buf.read<org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>*>();
        org_scalegraph_xpregel_MessageCommunicator__closure__10<TPMGL(M) >* this_ = new (storage) org_scalegraph_xpregel_MessageCommunicator__closure__10<TPMGL(M) >(that_saved_this);
        return this_;
    }
    
    org_scalegraph_xpregel_MessageCommunicator__closure__10(org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* saved_this) : saved_this(saved_this) { }
    
    static const x10aux::serialization_id_t _serialization_id;
    
    static const x10aux::RuntimeType* getRTT() { return x10aux::getRTT<x10::lang::Fun_0_1<x10_long, x10_long> >(); }
    virtual const x10aux::RuntimeType *_type() const { return x10aux::getRTT<x10::lang::Fun_0_1<x10_long, x10_long> >(); }
    
    x10::lang::String* toString() {
        return x10aux::makeStringLit(this->toNativeString());
    }
    
    const char* toNativeString() {
        return "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10:424";
    }

};

template<class TPMGL(M)> typename x10::lang::Fun_0_1<x10_long, x10_long>::template itable <org_scalegraph_xpregel_MessageCommunicator__closure__10<TPMGL(M) > >org_scalegraph_xpregel_MessageCommunicator__closure__10<TPMGL(M) >::_itable(&x10::lang::Reference::equals, &x10::lang::Closure::hashCode, &org_scalegraph_xpregel_MessageCommunicator__closure__10<TPMGL(M) >::__apply, &org_scalegraph_xpregel_MessageCommunicator__closure__10<TPMGL(M) >::toString, &x10::lang::Closure::typeName);
template<class TPMGL(M)> x10aux::itable_entry org_scalegraph_xpregel_MessageCommunicator__closure__10<TPMGL(M) >::_itables[2] = {x10aux::itable_entry(&x10aux::getRTT<x10::lang::Fun_0_1<x10_long, x10_long> >, &org_scalegraph_xpregel_MessageCommunicator__closure__10<TPMGL(M) >::_itable),x10aux::itable_entry(NULL, NULL)};

template<class TPMGL(M)> const x10aux::serialization_id_t org_scalegraph_xpregel_MessageCommunicator__closure__10<TPMGL(M) >::_serialization_id = 
    x10aux::DeserializationDispatcher::addDeserializer(org_scalegraph_xpregel_MessageCommunicator__closure__10<TPMGL(M) >::template _deserialize<x10::lang::Reference>,x10aux::CLOSURE_KIND_NOT_ASYNC);

#endif // ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__10_CLOSURE
#ifndef ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__11_CLOSURE
#define ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__11_CLOSURE
#include <x10/lang/Closure.h>
#include <x10/lang/Fun_0_2.h>
template<class TPMGL(M)> class org_scalegraph_xpregel_MessageCommunicator__closure__11 : public x10::lang::Closure {
    public:
    
    static typename x10::lang::Fun_0_2<x10_long, x10_long, x10_long>::template itable <org_scalegraph_xpregel_MessageCommunicator__closure__11<TPMGL(M) > > _itable;
    static x10aux::itable_entry _itables[2];
    
    virtual x10aux::itable_entry* _getITables() { return _itables; }
    
    // closure body
    x10_long __apply(x10_long i, x10_long v) {
        
        //#line 536 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10Return_c
        return ((x10_long) ((((x10_long) (__builtin_popcountl(x10aux::nullCheck(saved_this->
                                                                                  FMGL(mBCRHasMessage))->org::scalegraph::util::Bitmap::word(
                                                                i))))) + (v)));
        
    }
    
    // captured environment
    org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* saved_this;
    
    x10aux::serialization_id_t _get_serialization_id() {
        return _serialization_id;
    }
    
    void _serialize_body(x10aux::serialization_buffer &buf) {
        buf.write(this->saved_this);
    }
    
    template<class __T> static __T* _deserialize(x10aux::deserialization_buffer &buf) {
        org_scalegraph_xpregel_MessageCommunicator__closure__11<TPMGL(M) >* storage = x10aux::alloc<org_scalegraph_xpregel_MessageCommunicator__closure__11<TPMGL(M) > >();
        buf.record_reference(storage);
        org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* that_saved_this = buf.read<org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>*>();
        org_scalegraph_xpregel_MessageCommunicator__closure__11<TPMGL(M) >* this_ = new (storage) org_scalegraph_xpregel_MessageCommunicator__closure__11<TPMGL(M) >(that_saved_this);
        return this_;
    }
    
    org_scalegraph_xpregel_MessageCommunicator__closure__11(org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* saved_this) : saved_this(saved_this) { }
    
    static const x10aux::serialization_id_t _serialization_id;
    
    static const x10aux::RuntimeType* getRTT() { return x10aux::getRTT<x10::lang::Fun_0_2<x10_long, x10_long, x10_long> >(); }
    virtual const x10aux::RuntimeType *_type() const { return x10aux::getRTT<x10::lang::Fun_0_2<x10_long, x10_long, x10_long> >(); }
    
    x10::lang::String* toString() {
        return x10aux::makeStringLit(this->toNativeString());
    }
    
    const char* toNativeString() {
        return "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10:536";
    }

};

template<class TPMGL(M)> typename x10::lang::Fun_0_2<x10_long, x10_long, x10_long>::template itable <org_scalegraph_xpregel_MessageCommunicator__closure__11<TPMGL(M) > >org_scalegraph_xpregel_MessageCommunicator__closure__11<TPMGL(M) >::_itable(&x10::lang::Reference::equals, &x10::lang::Closure::hashCode, &org_scalegraph_xpregel_MessageCommunicator__closure__11<TPMGL(M) >::__apply, &org_scalegraph_xpregel_MessageCommunicator__closure__11<TPMGL(M) >::toString, &x10::lang::Closure::typeName);
template<class TPMGL(M)> x10aux::itable_entry org_scalegraph_xpregel_MessageCommunicator__closure__11<TPMGL(M) >::_itables[2] = {x10aux::itable_entry(&x10aux::getRTT<x10::lang::Fun_0_2<x10_long, x10_long, x10_long> >, &org_scalegraph_xpregel_MessageCommunicator__closure__11<TPMGL(M) >::_itable),x10aux::itable_entry(NULL, NULL)};

template<class TPMGL(M)> const x10aux::serialization_id_t org_scalegraph_xpregel_MessageCommunicator__closure__11<TPMGL(M) >::_serialization_id = 
    x10aux::DeserializationDispatcher::addDeserializer(org_scalegraph_xpregel_MessageCommunicator__closure__11<TPMGL(M) >::template _deserialize<x10::lang::Reference>,x10aux::CLOSURE_KIND_NOT_ASYNC);

#endif // ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__11_CLOSURE
#ifndef ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__12_CLOSURE
#define ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__12_CLOSURE
#include <x10/lang/Closure.h>
#include <x10/lang/Fun_0_2.h>
template<class TPMGL(M)> class org_scalegraph_xpregel_MessageCommunicator__closure__12 : public x10::lang::Closure {
    public:
    
    static typename x10::lang::Fun_0_2<x10_long, x10_long, x10_long>::template itable <org_scalegraph_xpregel_MessageCommunicator__closure__12<TPMGL(M) > > _itable;
    static x10aux::itable_entry _itables[2];
    
    virtual x10aux::itable_entry* _getITables() { return _itables; }
    
    // closure body
    x10_long __apply(x10_long v1, x10_long v2) {
        
        //#line 537 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10Return_c
        return ((x10_long) ((v1) + (v2)));
        
    }
    
    // captured environment
    
    x10aux::serialization_id_t _get_serialization_id() {
        return _serialization_id;
    }
    
    void _serialize_body(x10aux::serialization_buffer &buf) {
        
    }
    
    template<class __T> static __T* _deserialize(x10aux::deserialization_buffer &buf) {
        org_scalegraph_xpregel_MessageCommunicator__closure__12<TPMGL(M) >* storage = x10aux::alloc<org_scalegraph_xpregel_MessageCommunicator__closure__12<TPMGL(M) > >();
        buf.record_reference(storage);
        org_scalegraph_xpregel_MessageCommunicator__closure__12<TPMGL(M) >* this_ = new (storage) org_scalegraph_xpregel_MessageCommunicator__closure__12<TPMGL(M) >();
        return this_;
    }
    
    org_scalegraph_xpregel_MessageCommunicator__closure__12() { }
    
    static const x10aux::serialization_id_t _serialization_id;
    
    static const x10aux::RuntimeType* getRTT() { return x10aux::getRTT<x10::lang::Fun_0_2<x10_long, x10_long, x10_long> >(); }
    virtual const x10aux::RuntimeType *_type() const { return x10aux::getRTT<x10::lang::Fun_0_2<x10_long, x10_long, x10_long> >(); }
    
    x10::lang::String* toString() {
        return x10aux::makeStringLit(this->toNativeString());
    }
    
    const char* toNativeString() {
        return "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10:537";
    }

};

template<class TPMGL(M)> typename x10::lang::Fun_0_2<x10_long, x10_long, x10_long>::template itable <org_scalegraph_xpregel_MessageCommunicator__closure__12<TPMGL(M) > >org_scalegraph_xpregel_MessageCommunicator__closure__12<TPMGL(M) >::_itable(&x10::lang::Reference::equals, &x10::lang::Closure::hashCode, &org_scalegraph_xpregel_MessageCommunicator__closure__12<TPMGL(M) >::__apply, &org_scalegraph_xpregel_MessageCommunicator__closure__12<TPMGL(M) >::toString, &x10::lang::Closure::typeName);
template<class TPMGL(M)> x10aux::itable_entry org_scalegraph_xpregel_MessageCommunicator__closure__12<TPMGL(M) >::_itables[2] = {x10aux::itable_entry(&x10aux::getRTT<x10::lang::Fun_0_2<x10_long, x10_long, x10_long> >, &org_scalegraph_xpregel_MessageCommunicator__closure__12<TPMGL(M) >::_itable),x10aux::itable_entry(NULL, NULL)};

template<class TPMGL(M)> const x10aux::serialization_id_t org_scalegraph_xpregel_MessageCommunicator__closure__12<TPMGL(M) >::_serialization_id = 
    x10aux::DeserializationDispatcher::addDeserializer(org_scalegraph_xpregel_MessageCommunicator__closure__12<TPMGL(M) >::template _deserialize<x10::lang::Reference>,x10aux::CLOSURE_KIND_NOT_ASYNC);

#endif // ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR__CLOSURE__12_CLOSURE
 /* private static type XP = org.scalegraph.id.ProfilingID$XPregel; */ 

//#line 44 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 45 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 46 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 47 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 49 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 50 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 51 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 52 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 53 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 55 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 56 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 57 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 59 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 60 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 62 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 64 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 65 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 67 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 68 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 69 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 70 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 71 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 73 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 74 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 75 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 76 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 77 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 79 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 80 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 82 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 83 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 84 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 86 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10FieldDecl_c

//#line 88 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10ConstructorDecl_c
template<class TPMGL(M)> void org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::_constructor(
                           org::scalegraph::util::Team2 team, org::scalegraph::graph::id::IdStruct ids,
                           x10_int numThreads) {
    
    //#line 88 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.Empty_c
    ;
    
    //#line 88 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.AssignPropertyCall_c
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
    this->org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::__fieldInitializers44755();
    
    //#line 90 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_int rank_c = x10aux::nullCheck(x10aux::nullCheck(team->
                                                           FMGL(base))->role())->x10::array::Array<x10_int>::__apply(
                       ((x10_int)0));
    
    //#line 91 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mTeam) = team;
    
    //#line 92 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mIds) = ids;
    
    //#line 93 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mNumThreads) = numThreads;
    
    //#line 94 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mSuperstep) = ((x10_int)0);
    
    //#line 95 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mVtoD) = org::scalegraph::graph::id::OnedR__VtoD::_make(ids);
    
    //#line 96 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mDtoV) = org::scalegraph::graph::id::OnedR__DtoV::_make(ids);
    
    //#line 97 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mDtoS) = org::scalegraph::graph::id::OnedR__DtoS::_make(ids);
    
    //#line 98 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mStoD) = org::scalegraph::graph::id::OnedR__StoD::_make(ids,
                                                                       rank_c);
    
    //#line 99 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mStoV) = org::scalegraph::graph::id::OnedR__StoV::_make(ids,
                                                                       rank_c);
    
    //#line 102 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mUCCMessages) = org::scalegraph::util::MemoryChunk<org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> >::_make(((x10_long) (((x10_int) ((this->
                                                                                                                                                         FMGL(mNumThreads)) * (this->
                                                                                                                                                                                 FMGL(mTeam)->org::scalegraph::util::Team2::size()))))), reinterpret_cast<x10::lang::Fun_0_1<x10_long, org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> >*>((new (x10aux::alloc<x10::lang::Fun_0_1<x10_long, org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> > >(sizeof(org_scalegraph_xpregel_MessageCommunicator__closure__1<TPMGL(M)>)))org_scalegraph_xpregel_MessageCommunicator__closure__1<TPMGL(M)>())), (x10_byte*)(void*)__FILE__, __LINE__);
    
    //#line 104 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mBCCHasMessage) = org::scalegraph::util::Bitmap::_make(this->
                                                                        FMGL(mIds)->org::scalegraph::graph::id::IdStruct::numberOfLocalVertexes(),
                                                                      false);
    
    //#line 105 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mBCCMessages) = org::scalegraph::util::MemoryChunk<TPMGL(M) >::_make(this->
                                                                                      FMGL(mIds)->org::scalegraph::graph::id::IdStruct::numberOfLocalVertexes(), 0, false, (x10_byte*)(void*)__FILE__, __LINE__);
}
template<class TPMGL(M)> org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::_make(
                           org::scalegraph::util::Team2 team,
                           org::scalegraph::graph::id::IdStruct ids,
                           x10_int numThreads) {
    org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* this_ = new (memset(x10aux::alloc<org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)> >(), 0, sizeof(org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>))) org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>();
    this_->_constructor(team, ids, numThreads);
    return this_;
}



//#line 108 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10MethodDecl_c
template<class TPMGL(M)> void org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::del(
  ) {
 
}

//#line 112 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10MethodDecl_c
template<class TPMGL(M)> void org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::deleteMessages(
  ) {
    
    //#line 113 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if (((this->FMGL(mUCRMessages)->org::scalegraph::util::MemoryChunk<TPMGL(M)>::size()) > (((x10_long) (((x10_int)0))))))
    {
        
        //#line 113 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        this->FMGL(mUCRMessages)->org::scalegraph::util::MemoryChunk<TPMGL(M)>::del();
        
        //#line 113 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
        this->FMGL(mUCRMessages) = org::scalegraph::util::MemoryChunk<void>::template make<TPMGL(M) >();
    }
    
    //#line 114 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if (((this->FMGL(mUCROffset)->org::scalegraph::util::MemoryChunk<x10_long>::size()) > (((x10_long) (((x10_int)0))))))
    {
        
        //#line 114 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        this->FMGL(mUCROffset)->org::scalegraph::util::MemoryChunk<x10_long>::del();
        
        //#line 114 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
        this->FMGL(mUCROffset) = org::scalegraph::util::MemoryChunk<void>::template make<x10_long >();
    }
    
    //#line 115 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if ((!x10aux::struct_equals(this->FMGL(mBCRHasMessage),
                                X10_NULL))) {
        
        //#line 115 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        x10aux::nullCheck(this->FMGL(mBCRHasMessage))->org::scalegraph::util::Bitmap::del();
        
        //#line 115 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
        this->FMGL(mBCRHasMessage) = (x10aux::class_cast_unchecked<org::scalegraph::util::Bitmap*>(X10_NULL));
    }
    
    //#line 116 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if (((this->FMGL(mBCROffset)->org::scalegraph::util::MemoryChunk<x10_long>::size()) > (((x10_long) (((x10_int)0))))))
    {
        
        //#line 116 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        this->FMGL(mBCROffset)->org::scalegraph::util::MemoryChunk<x10_long>::del();
        
        //#line 116 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
        this->FMGL(mBCROffset) = org::scalegraph::util::MemoryChunk<void>::template make<x10_long >();
    }
    
    //#line 117 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if (((this->FMGL(mBCRMessages)->org::scalegraph::util::MemoryChunk<TPMGL(M)>::size()) > (((x10_long) (((x10_int)0))))))
    {
        
        //#line 117 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        this->FMGL(mBCRMessages)->org::scalegraph::util::MemoryChunk<TPMGL(M)>::del();
        
        //#line 117 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
        this->FMGL(mBCRMessages) = org::scalegraph::util::MemoryChunk<void>::template make<TPMGL(M) >();
    }
    
}

//#line 120 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10MethodDecl_c
template<class TPMGL(M)> org::scalegraph::util::MemoryChunk<org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> >
  org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::messageBuffer(
  x10_long tid) {
    
    //#line 120 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10Return_c
    return this->FMGL(mUCCMessages)->org::scalegraph::util::MemoryChunk<org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> >::subpart(
             ((x10_long) ((tid) * (((x10_long) (this->FMGL(mTeam)->org::scalegraph::util::Team2::size()))))),
             ((x10_long) (this->FMGL(mTeam)->org::scalegraph::util::Team2::size())));
    
}

//#line 122 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10MethodDecl_c
template<class TPMGL(M)> org::scalegraph::util::MemoryChunk<TPMGL(M)>
  org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::message(
  x10_long srcid, org::scalegraph::util::GrowableMemory<TPMGL(M)>* buffer) {
    
    //#line 123 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if (this->FMGL(mUCREnabled)) {
        
        //#line 125 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
        if ((x10aux::struct_equals(this->FMGL(mUCROffset)->org::scalegraph::util::MemoryChunk<x10_long>::size(),
                                   ((x10_long)0ll)))) {
            
            //#line 126 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10Return_c
            return org::scalegraph::util::MemoryChunk<TPMGL(M) >::_make(((x10_long) (((x10_int)0))), 0, false, (x10_byte*)(void*)__FILE__, __LINE__);
            
        }
        
        //#line 128 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long start = this->FMGL(mUCROffset)->org::scalegraph::util::MemoryChunk<x10_long>::__apply(
                           srcid);
        
        //#line 129 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long length = ((x10_long) ((this->FMGL(mUCROffset)->org::scalegraph::util::MemoryChunk<x10_long>::__apply(
                                          ((x10_long) ((srcid) + (((x10_long) (((x10_int)1)))))))) - (start)));
        
        //#line 130 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10Return_c
        return this->FMGL(mUCRMessages)->org::scalegraph::util::MemoryChunk<TPMGL(M)>::subpart(
                 start, length);
        
    } else 
    //#line 132 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if (this->FMGL(mBCREnabled)) {
        
        //#line 134 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        org::scalegraph::util::Bitmap* bmp = this->FMGL(mBCRHasMessage);
        
        //#line 135 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        org::scalegraph::util::MemoryChunk<x10_long> offset =
          this->FMGL(mBCROffset);
        
        //#line 136 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        org::scalegraph::util::MemoryChunk<TPMGL(M)> mes =
          this->FMGL(mBCRMessages);
        
        //#line 137 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long start = this->FMGL(mInEdgesOffset)->org::scalegraph::util::MemoryChunk<x10_long>::__apply(
                           srcid);
        
        //#line 138 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long end = this->FMGL(mInEdgesOffset)->org::scalegraph::util::MemoryChunk<x10_long>::__apply(
                         ((x10_long) ((srcid) + (((x10_long) (((x10_int)1)))))));
        
        //#line 139 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long length = ((x10_long) ((end) - (start)));
        
        //#line 141 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        x10aux::nullCheck(buffer)->org::scalegraph::util::GrowableMemory<TPMGL(M)>::setSize(
          ((x10_long) (((x10_int)0))));
        
        //#line 142 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long i45528min45874 = ((x10_long) (((x10_int)0)));
        
        //#line 142 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long i45528max45875 = ((x10_long) ((length) - (((x10_long) (((x10_int)1))))));
        
        //#line 142 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.For_c
        {
            x10_long i45876;
            for (
                 //#line 142 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                 i45876 = i45528min45874; ((i45876) <= (i45528max45875));
                 
                 //#line 142 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
                 i45876 = ((x10_long) ((i45876) + (((x10_long)1ll)))))
            {
                
                //#line 142 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                x10_long i45877 = i45876;
                
                //#line 143 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                x10_long dst45870 = this->FMGL(mInEdgesVertex)->org::scalegraph::util::MemoryChunk<x10_long>::__apply(
                                      ((x10_long) ((start) + (i45877))));
                
                //#line 145 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
                if (x10aux::nullCheck(bmp)->org::scalegraph::util::Bitmap::__apply(
                      dst45870)) {
                    
                    //#line 146 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                    x10_long wordOffset45871 = org::scalegraph::util::Bitmap::offset(
                                                 dst45870);
                    
                    //#line 147 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                    x10_ulong wordMask45872 = ((x10_ulong) ((org::scalegraph::util::Bitmap::mask(
                                                               dst45870)) - (((x10_ulong) (((x10_int)1))))));
                    
                    //#line 148 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                    x10_long mesOffset45873 = ((x10_long) ((offset->org::scalegraph::util::MemoryChunk<x10_long>::__apply(
                                                              wordOffset45871)) + (((x10_long) (__builtin_popcountl(((x10_ulong) ((x10aux::nullCheck(bmp)->org::scalegraph::util::Bitmap::word(
                                                                                                                                     wordOffset45871)) & (wordMask45872)))))))));
                    
                    //#line 150 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
                    x10aux::nullCheck(buffer)->org::scalegraph::util::GrowableMemory<TPMGL(M)>::add(
                      mes->org::scalegraph::util::MemoryChunk<TPMGL(M)>::__apply(
                        mesOffset45873));
                }
                
            }
        }
        
        //#line 154 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10Return_c
        return x10aux::nullCheck(buffer)->org::scalegraph::util::GrowableMemory<TPMGL(M)>::raw();
        
    }
    
    //#line 156 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10Return_c
    return org::scalegraph::util::MemoryChunk<void>::template make<TPMGL(M) >();
    
}

//#line 159 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10MethodDecl_c

//#line 164 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10MethodDecl_c
template<class TPMGL(M)> x10_long org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::processUnicastMessages(
  x10::lang::Fun_0_1<org::scalegraph::util::MemoryChunk<TPMGL(M)>, TPMGL(M)>* combine) {
    
    //#line 165 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    org::scalegraph::util::StopWatch* sw = x10aux::nullCheck(org::scalegraph::Config::get())->stopWatch();
    
    //#line 166 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if ((x10aux::struct_equals(x10::lang::Place::_make(x10aux::here)->
                                 FMGL(id), ((x10_int)0))))
    {
        
        //#line 166 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        x10aux::nullCheck(sw)->org::scalegraph::util::StopWatch::lap(
          x10aux::makeStringLit("start to process unicast messages"));
    }
    
    //#line 168 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_int numPlaces = this->FMGL(mTeam)->org::scalegraph::util::Team2::size();
    
    //#line 169 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_boolean combineEnabled = (!x10aux::struct_equals(combine,
                                                         X10_NULL));
    
    //#line 170 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    TPMGL(M) nullMessage = x10aux::zeroValue<TPMGL(M) >();
    
    //#line 171 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_long numMessages = this->FMGL(mUCSRawMessageCount);
    
    //#line 173 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mUCSCount) = org::scalegraph::util::MemoryChunk<x10_int >::_make(((x10_long) (numPlaces)), 0, false, (x10_byte*)(void*)__FILE__, __LINE__);
    
    //#line 174 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mUCSOffset) = org::scalegraph::util::MemoryChunk<x10_int >::_make(((x10_long) (((x10_int) ((numPlaces) + (((x10_int)1)))))), 0, false, (x10_byte*)(void*)__FILE__, __LINE__);
    
    //#line 175 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    org::scalegraph::util::MemoryChunk<x10_int> mesCount;
    
    //#line 176 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    org::scalegraph::util::MemoryChunk<x10_int> mesOffset;
    
    //#line 177 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if (combineEnabled) {
        
        //#line 178 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
        mesCount = org::scalegraph::util::MemoryChunk<x10_int >::_make(((x10_long) (numPlaces)), 0, false, (x10_byte*)(void*)__FILE__, __LINE__);
        
        //#line 179 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
        mesOffset = org::scalegraph::util::MemoryChunk<x10_int >::_make(((x10_long) (((x10_int) ((numPlaces) + (((x10_int)1)))))), 0, false, (x10_byte*)(void*)__FILE__, __LINE__);
    } else {
        
        //#line 182 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
        mesCount = this->FMGL(mUCSCount);
        
        //#line 183 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
        mesOffset = this->FMGL(mUCSOffset);
    }
    
    //#line 185 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
    mesOffset->org::scalegraph::util::MemoryChunk<x10_int>::__set(
      ((x10_int)0), ((x10_int)0));
    
    //#line 186 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_int i45544min45911 = ((x10_int)0);
    
    //#line 186 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_int i45544max45912 = ((x10_int) ((numPlaces) - (((x10_int)1))));
    
    //#line 186 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.For_c
    {
        x10_int i45913;
        for (
             //#line 186 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
             i45913 = i45544min45911; ((i45913) <= (i45544max45912));
             
             //#line 186 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
             i45913 = ((x10_int) ((i45913) + (((x10_int)1)))))
        {
            
            //#line 186 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
            x10_int p45914 = i45913;
            
            //#line 186 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
            mesCount->org::scalegraph::util::MemoryChunk<x10_int>::__set(
              p45914, ((x10_int)0));
        }
    }
    
    //#line 189 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_int i45576min45915 = ((x10_int)0);
    
    //#line 189 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_int i45576max45916 = ((x10_int) ((this->FMGL(mNumThreads)) - (((x10_int)1))));
    
    //#line 189 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.For_c
    {
        x10_int i45917;
        for (
             //#line 189 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
             i45917 = i45576min45915; ((i45917) <= (i45576max45916));
             
             //#line 189 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
             i45917 = ((x10_int) ((i45917) + (((x10_int)1)))))
        {
            
            //#line 189 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
            x10_int th45918 = i45917;
            
            //#line 190 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
            x10_int i45560min45887 = ((x10_int)0);
            
            //#line 190 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
            x10_int i45560max45888 = ((x10_int) ((numPlaces) - (((x10_int)1))));
            
            //#line 190 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.For_c
            {
                x10_int i45889;
                for (
                     //#line 190 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                     i45889 = i45560min45887; ((i45889) <= (i45560max45888));
                     
                     //#line 190 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
                     i45889 = ((x10_int) ((i45889) + (((x10_int)1)))))
                {
                    
                    //#line 190 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                    x10_int p45890 = i45889;
                    
                    //#line 191 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                    org::scalegraph::util::MemoryChunk<x10_int> x45883 =
                      mesCount;
                    
                    //#line 191 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                    x10_int y45884 = p45890;
                    
                    //#line 191 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                    x10_int z45885 = ((x10_int) (x10aux::nullCheck(this->
                                                                     FMGL(mUCCMessages)->org::scalegraph::util::MemoryChunk<org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> >::__apply(
                                                                     ((x10_int) ((((x10_int) ((th45918) * (numPlaces)))) + (p45890))))->
                                                                     FMGL(messages))->org::scalegraph::util::GrowableMemory<TPMGL(M)>::size()));
                    
                    //#line 191 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                    x10_int ret45886;
                    
                    //#line 191 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                    x10_int r45882 = ((x10_int) ((x45883->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                                                    y45884)) + (z45885)));
                    
                    //#line 191 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
                    x45883->org::scalegraph::util::MemoryChunk<x10_int>::__set(
                      y45884, r45882);
                    
                    //#line 191 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
                    ret45886 = r45882;
                    
                    //#line 191 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Local_c
                    ret45886;
                }
            }
            
        }
    }
    
    //#line 194 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_int i45592min45919 = ((x10_int)0);
    
    //#line 194 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_int i45592max45920 = ((x10_int) ((numPlaces) - (((x10_int)1))));
    
    //#line 194 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.For_c
    {
        x10_int i45921;
        for (
             //#line 194 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
             i45921 = i45592min45919; ((i45921) <= (i45592max45920));
             
             //#line 194 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
             i45921 = ((x10_int) ((i45921) + (((x10_int)1)))))
        {
            
            //#line 194 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
            x10_int p45922 = i45921;
            
            //#line 195 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
            mesOffset->org::scalegraph::util::MemoryChunk<x10_int>::__set(
              ((x10_int) ((p45922) + (((x10_int)1)))), ((x10_int) ((mesOffset->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                                                                      p45922)) + (mesCount->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                                                                                    p45922)))));
        }
    }
    
    //#line 198 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.Assert_c
    #ifndef NO_ASSERTIONS
    if (x10aux::x10__assertions_enabled)
        x10aux::x10__assert((x10aux::struct_equals(numMessages,
                                                   ((x10_long) (mesOffset->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                                                                  numPlaces))))));
    #endif//NO_ASSERTIONS
    
    //#line 200 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    org::scalegraph::util::MemoryChunk<x10_long> idsTmp =
      org::scalegraph::util::MemoryChunk<x10_long >::_make(numMessages, 0, false, (x10_byte*)(void*)__FILE__, __LINE__);
    
    //#line 201 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if ((x10aux::struct_equals(x10::lang::Place::_make(x10aux::here)->
                                 FMGL(id), ((x10_int)0))))
    {
        
        //#line 201 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        x10aux::nullCheck(sw)->org::scalegraph::util::StopWatch::lap(
          x10aux::makeStringLit("copying dest id"));
    }
    
    //#line 202 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
    org::scalegraph::util::Parallel::iter(x10::lang::LongRange::_make(((x10_long)0ll), ((x10_long) (((x10_int) ((numPlaces) - (((x10_int)1))))))),
                                          reinterpret_cast<x10::lang::VoidFun_0_1<x10_long>*>((new (x10aux::alloc<x10::lang::VoidFun_0_1<x10_long> >(sizeof(org_scalegraph_xpregel_MessageCommunicator__closure__2<TPMGL(M)>)))org_scalegraph_xpregel_MessageCommunicator__closure__2<TPMGL(M)>(mesOffset, idsTmp, this, numPlaces))));
    
    //#line 215 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10::lang::LongRange i45624domain45923 = this->FMGL(mUCCMessages)->org::scalegraph::util::MemoryChunk<org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> >::range();
    
    //#line 215 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_long i45624min45924 = i45624domain45923->FMGL(min);
    
    //#line 215 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_long i45624max45925 = i45624domain45923->FMGL(max);
    
    //#line 215 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.For_c
    {
        x10_long i45926;
        for (
             //#line 215 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
             i45926 = i45624min45924; ((i45926) <= (i45624max45925));
             
             //#line 215 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
             i45926 = ((x10_long) ((i45926) + (((x10_long)1ll)))))
        {
            
            //#line 215 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
            x10_long i45927 = i45926;
            
            //#line 215 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
            x10aux::nullCheck(this->FMGL(mUCCMessages)->org::scalegraph::util::MemoryChunk<org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> >::__apply(
                                i45927)->FMGL(dstIds))->org::scalegraph::util::GrowableMemory<x10_long>::del();
        }
    }
    
    //#line 217 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    org::scalegraph::util::MemoryChunk<TPMGL(M)> mesTmp =
      org::scalegraph::util::MemoryChunk<TPMGL(M) >::_make(numMessages, 0, false, (x10_byte*)(void*)__FILE__, __LINE__);
    
    //#line 218 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if ((x10aux::struct_equals(x10::lang::Place::_make(x10aux::here)->
                                 FMGL(id), ((x10_int)0))))
    {
        
        //#line 218 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        x10aux::nullCheck(sw)->org::scalegraph::util::StopWatch::lap(
          x10aux::makeStringLit("copying message value"));
    }
    
    //#line 219 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
    org::scalegraph::util::Parallel::iter(x10::lang::LongRange::_make(((x10_long)0ll), ((x10_long) (((x10_int) ((numPlaces) - (((x10_int)1))))))),
                                          reinterpret_cast<x10::lang::VoidFun_0_1<x10_long>*>((new (x10aux::alloc<x10::lang::VoidFun_0_1<x10_long> >(sizeof(org_scalegraph_xpregel_MessageCommunicator__closure__3<TPMGL(M)>)))org_scalegraph_xpregel_MessageCommunicator__closure__3<TPMGL(M)>(mesOffset, mesTmp, this, numPlaces))));
    
    //#line 232 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10::lang::LongRange i45657domain45928 = this->FMGL(mUCCMessages)->org::scalegraph::util::MemoryChunk<org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> >::range();
    
    //#line 232 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_long i45657min45929 = i45657domain45928->FMGL(min);
    
    //#line 232 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_long i45657max45930 = i45657domain45928->FMGL(max);
    
    //#line 232 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.For_c
    {
        x10_long i45931;
        for (
             //#line 232 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
             i45931 = i45657min45929; ((i45931) <= (i45657max45930));
             
             //#line 232 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
             i45931 = ((x10_long) ((i45931) + (((x10_long)1ll)))))
        {
            
            //#line 232 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
            x10_long i45932 = i45931;
            
            //#line 232 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
            x10aux::nullCheck(this->FMGL(mUCCMessages)->org::scalegraph::util::MemoryChunk<org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> >::__apply(
                                i45932)->FMGL(messages))->org::scalegraph::util::GrowableMemory<TPMGL(M)>::del();
        }
    }
    
    //#line 234 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if ((!x10aux::struct_equals(combine, X10_NULL))) {
        
        //#line 235 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        org::scalegraph::util::Parallel::iter(x10::lang::LongRange::_make(((x10_long)0ll), ((x10_long) (((x10_int) ((numPlaces) - (((x10_int)1))))))),
                                              reinterpret_cast<x10::lang::VoidFun_0_1<x10_long>*>((new (x10aux::alloc<x10::lang::VoidFun_0_1<x10_long> >(sizeof(org_scalegraph_xpregel_MessageCommunicator__closure__4<TPMGL(M)>)))org_scalegraph_xpregel_MessageCommunicator__closure__4<TPMGL(M)>(mesOffset, mesTmp, idsTmp, combine, this))));
    }
    
    //#line 281 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_long numCombinedMessages;
    
    //#line 282 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if ((!x10aux::struct_equals(combine, X10_NULL))) {
        
        //#line 284 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_int i45690min45907 = ((x10_int)0);
        
        //#line 284 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_int i45690max45908 = ((x10_int) ((numPlaces) - (((x10_int)1))));
        
        //#line 284 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.For_c
        {
            x10_int i45909;
            for (
                 //#line 284 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                 i45909 = i45690min45907; ((i45909) <= (i45690max45908));
                 
                 //#line 284 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
                 i45909 = ((x10_int) ((i45909) + (((x10_int)1)))))
            {
                
                //#line 284 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                x10_int p45910 = i45909;
                
                //#line 285 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
                this->FMGL(mUCSOffset)->org::scalegraph::util::MemoryChunk<x10_int>::__set(
                  ((x10_int) ((p45910) + (((x10_int)1)))),
                  ((x10_int) ((this->FMGL(mUCSOffset)->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                                 p45910)) + (this->FMGL(mUCSCount)->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                                               p45910)))));
            }
        }
        
        //#line 287 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
        numCombinedMessages = ((x10_long) (this->FMGL(mUCSOffset)->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                                             numPlaces)));
        
        //#line 289 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
        this->FMGL(mUCSIds) = org::scalegraph::util::MemoryChunk<x10_long >::_make(numCombinedMessages, 0, false, (x10_byte*)(void*)__FILE__, __LINE__);
        
        //#line 290 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
        this->FMGL(mUCSMessages) = org::scalegraph::util::MemoryChunk<TPMGL(M) >::_make(numCombinedMessages, 0, false, (x10_byte*)(void*)__FILE__, __LINE__);
        
        //#line 291 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        org::scalegraph::util::MemoryChunk<x10_long> idsBuffer =
          this->FMGL(mUCSIds);
        
        //#line 292 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        org::scalegraph::util::MemoryChunk<TPMGL(M)> mesBuffer =
          this->FMGL(mUCSMessages);
        
        //#line 294 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        org::scalegraph::util::Parallel::iter(x10::lang::IntRange::_make(((x10_int)0), ((x10_int) ((numPlaces) - (((x10_int)1))))),
                                              reinterpret_cast<x10::lang::VoidFun_0_1<x10_int>*>((new (x10aux::alloc<x10::lang::VoidFun_0_1<x10_int> >(sizeof(org_scalegraph_xpregel_MessageCommunicator__closure__5<TPMGL(M)>)))org_scalegraph_xpregel_MessageCommunicator__closure__5<TPMGL(M)>(mesOffset, this, mesTmp, mesBuffer, idsTmp, idsBuffer))));
        
        //#line 303 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        mesCount->org::scalegraph::util::MemoryChunk<x10_int>::del();
        
        //#line 304 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        mesOffset->org::scalegraph::util::MemoryChunk<x10_int>::del();
        
        //#line 305 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        mesTmp->org::scalegraph::util::MemoryChunk<TPMGL(M)>::del();
        
        //#line 306 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        idsTmp->org::scalegraph::util::MemoryChunk<x10_long>::del();
    } else {
        
        //#line 309 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
        this->FMGL(mUCSIds) = idsTmp;
        
        //#line 310 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
        this->FMGL(mUCSMessages) = mesTmp;
        
        //#line 311 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
        numCombinedMessages = numMessages;
    }
    
    //#line 314 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if ((x10aux::struct_equals(x10::lang::Place::_make(x10aux::here)->
                                 FMGL(id), ((x10_int)0))))
    {
        
        //#line 314 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        x10aux::nullCheck(sw)->org::scalegraph::util::StopWatch::lap(
          x10aux::makeStringLit("finished message processing"));
    }
    
    //#line 315 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10Return_c
    return numCombinedMessages;
    
}

//#line 318 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10MethodDecl_c
template<class TPMGL(M)> x10_long org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::numLocalVertexesBC(
  ) {
    
    //#line 318 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10Return_c
    return x10::lang::Math::max(this->FMGL(mIds)->org::scalegraph::graph::id::IdStruct::numberOfLocalVertexes2N(),
                                ((x10_long) (org::scalegraph::util::Bitmap::
                                               FMGL(BitsPerWord__get)())));
    
}

//#line 321 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10MethodDecl_c
template<class TPMGL(M)> void org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::createInEdgesMask(
  ) {
    
    //#line 322 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    org::scalegraph::util::StopWatch* sw = x10aux::nullCheck(org::scalegraph::Config::get())->stopWatch();
    
    //#line 323 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if ((x10aux::struct_equals(x10::lang::Place::_make(x10aux::here)->
                                 FMGL(id), ((x10_int)0))))
    {
        
        //#line 323 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        x10aux::nullCheck(sw)->org::scalegraph::util::StopWatch::lap(
          x10aux::makeStringLit("creating in edge mask"));
    }
    
    //#line 325 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_long numLocalVertexes2N = this->FMGL(mIds)->org::scalegraph::graph::id::IdStruct::numberOfLocalVertexes2N();
    
    //#line 326 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_long numVertexesBC = ((x10_long) ((this->org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::numLocalVertexesBC()) * (((x10_long) (this->
                                                                                                                                                  FMGL(mTeam)->org::scalegraph::util::Team2::size())))));
    
    //#line 327 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    org::scalegraph::util::Bitmap* tmpMask = org::scalegraph::util::Bitmap::_make(numVertexesBC,
                                                                                  false);
    
    //#line 328 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if ((x10aux::struct_equals(this->FMGL(mInEdgesMask), X10_NULL)))
    {
        
        //#line 328 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
        this->FMGL(mInEdgesMask) = org::scalegraph::util::Bitmap::_make(numVertexesBC);
    }
    
    //#line 330 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
    org::scalegraph::util::Parallel::iter(this->FMGL(mInEdgesVertex)->org::scalegraph::util::MemoryChunk<x10_long>::range(),
                                          reinterpret_cast<x10::lang::VoidFun_0_2<x10_long, x10::lang::LongRange>*>((new (x10aux::alloc<x10::lang::VoidFun_0_2<x10_long, x10::lang::LongRange> >(sizeof(org_scalegraph_xpregel_MessageCommunicator__closure__6<TPMGL(M)>)))org_scalegraph_xpregel_MessageCommunicator__closure__6<TPMGL(M)>(tmpMask, this))));
    
    //#line 335 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if (((numLocalVertexes2N) < (((x10_long) (org::scalegraph::util::Bitmap::
                                                FMGL(BitsPerWord__get)())))))
    {
        
        //#line 336 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        org::scalegraph::util::MemoryChunk<x10_ulong> raw =
          tmpMask->org::scalegraph::util::Bitmap::raw();
        
        //#line 337 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_int numBits = ((x10_int) (numLocalVertexes2N));
        
        //#line 338 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long mask = ((x10_long) ((((x10_long) ((((x10_long)1ll)) << (0x3f & (numBits))))) - (((x10_long) (((x10_int)1))))));
        
        //#line 339 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.For_c
        {
            x10_int p;
            for (
                 //#line 339 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                 p = ((x10_int) ((this->FMGL(mTeam)->org::scalegraph::util::Team2::size()) - (((x10_int)1))));
                 ((p) >= (((x10_int)0))); 
                                          //#line 339 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
                                          p = ((x10_int) ((p) - (((x10_int)1)))))
            {
                
                //#line 340 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                x10_int shift = ((x10_int) ((((x10_int) ((numBits) * (p)))) % x10aux::zeroCheck(org::scalegraph::util::Bitmap::
                                                                                                  FMGL(BitsPerWord__get)())));
                
                //#line 341 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
                raw->org::scalegraph::util::MemoryChunk<x10_ulong>::__set(
                  p, ((x10_ulong) ((((x10_ulong) ((raw->org::scalegraph::util::MemoryChunk<x10_ulong>::__apply(
                                                     org::scalegraph::util::Bitmap::offset(
                                                       ((x10_long) (((x10_int) ((numBits) * (p)))))))) >> (0x3f & (shift))))) & (mask))));
            }
        }
        
    }
    
    //#line 345 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if ((x10aux::struct_equals(x10::lang::Place::_make(x10aux::here)->
                                 FMGL(id), ((x10_int)0))))
    {
        
        //#line 345 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        x10aux::nullCheck(sw)->org::scalegraph::util::StopWatch::lap(
          x10aux::makeStringLit("alltoall..."));
    }
    
    //#line 346 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
    this->FMGL(mTeam)->template alltoall<x10_ulong >(tmpMask->org::scalegraph::util::Bitmap::raw(),
                                                     x10aux::nullCheck(this->
                                                                         FMGL(mInEdgesMask))->org::scalegraph::util::Bitmap::raw());
    
    //#line 347 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
    tmpMask->org::scalegraph::util::Bitmap::del();
    
    //#line 348 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if ((x10aux::struct_equals(x10::lang::Place::_make(x10aux::here)->
                                 FMGL(id), ((x10_int)0))))
    {
        
        //#line 348 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        x10aux::nullCheck(sw)->org::scalegraph::util::StopWatch::lap(
          x10aux::makeStringLit("in edge mask creation finished"));
    }
    
}

//#line 351 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10MethodDecl_c
template<class TPMGL(M)> x10_long org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::processBroadcastMessages(
  ) {
    
    //#line 352 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    org::scalegraph::util::StopWatch* sw = x10aux::nullCheck(org::scalegraph::Config::get())->stopWatch();
    
    //#line 353 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if ((x10aux::struct_equals(x10::lang::Place::_make(x10aux::here)->
                                 FMGL(id), ((x10_int)0))))
    {
        
        //#line 353 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        x10aux::nullCheck(sw)->org::scalegraph::util::StopWatch::lap(
          x10aux::makeStringLit("start to process broadcast messages"));
    }
    
    //#line 355 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_long numLocalVertexesBC = this->org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::numLocalVertexesBC();
    
    //#line 356 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_long numVertexesBC = ((x10_long) ((numLocalVertexesBC) * (((x10_long) (this->
                                                                                 FMGL(mTeam)->org::scalegraph::util::Team2::size())))));
    
    //#line 357 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_int numPlaces = this->FMGL(mTeam)->org::scalegraph::util::Team2::size();
    
    //#line 358 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    TPMGL(M) nullMessage = x10aux::zeroValue<TPMGL(M) >();
    
    //#line 360 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if ((x10aux::struct_equals(this->FMGL(mInEdgesMask), X10_NULL)))
    {
        
        //#line 360 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        this->org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::createInEdgesMask();
    }
    
    //#line 362 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mBCSMask) = org::scalegraph::util::Bitmap::_make(numVertexesBC);
    
    //#line 363 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mBCSCount) = org::scalegraph::util::MemoryChunk<x10_int >::_make(((x10_long) (numPlaces)), 0, false, (x10_byte*)(void*)__FILE__, __LINE__);
    
    //#line 364 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mBCSOffset) = org::scalegraph::util::MemoryChunk<x10_int >::_make(((x10_long) (((x10_int) ((numPlaces) + (((x10_int)1)))))), 0, false, (x10_byte*)(void*)__FILE__, __LINE__);
    
    //#line 366 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
    org::scalegraph::util::Parallel::iter(x10::lang::LongRange::_make(((x10_long)0ll), ((x10_long) (((x10_int) ((numPlaces) - (((x10_int)1))))))),
                                          reinterpret_cast<x10::lang::VoidFun_0_1<x10_long>*>((new (x10aux::alloc<x10::lang::VoidFun_0_1<x10_long> >(sizeof(org_scalegraph_xpregel_MessageCommunicator__closure__7<TPMGL(M)>)))org_scalegraph_xpregel_MessageCommunicator__closure__7<TPMGL(M)>(numLocalVertexesBC, this))));
    
    //#line 386 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
    org::scalegraph::util::Parallel::iter(x10aux::nullCheck(this->
                                                              FMGL(mBCCHasMessage))->org::scalegraph::util::Bitmap::raw()->org::scalegraph::util::MemoryChunk<x10_ulong>::range(),
                                          reinterpret_cast<x10::lang::VoidFun_0_2<x10_long, x10::lang::LongRange>*>((new (x10aux::alloc<x10::lang::VoidFun_0_2<x10_long, x10::lang::LongRange> >(sizeof(org_scalegraph_xpregel_MessageCommunicator__closure__8<TPMGL(M)>)))org_scalegraph_xpregel_MessageCommunicator__closure__8<TPMGL(M)>(this))));
    
    //#line 391 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
    this->FMGL(mBCSOffset)->org::scalegraph::util::MemoryChunk<x10_int>::__set(
      ((x10_int)0), ((x10_int)0));
    
    //#line 392 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_int i45772min45956 = ((x10_int)0);
    
    //#line 392 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_int i45772max45957 = ((x10_int) ((numPlaces) - (((x10_int)1))));
    
    //#line 392 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.For_c
    {
        x10_int i45958;
        for (
             //#line 392 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
             i45958 = i45772min45956; ((i45958) <= (i45772max45957));
             
             //#line 392 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
             i45958 = ((x10_int) ((i45958) + (((x10_int)1)))))
        {
            
            //#line 392 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
            x10_int i45959 = i45958;
            
            //#line 393 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
            this->FMGL(mBCSOffset)->org::scalegraph::util::MemoryChunk<x10_int>::__set(
              ((x10_int) ((i45959) + (((x10_int)1)))), ((x10_int) ((this->
                                                                      FMGL(mBCSOffset)->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                                                                      i45959)) + (this->
                                                                                    FMGL(mBCSCount)->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                                                                                    i45959)))));
        }
    }
    
    //#line 396 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if ((x10aux::struct_equals(x10::lang::Place::_make(x10aux::here)->
                                 FMGL(id), ((x10_int)0))))
    {
        
        //#line 396 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        x10aux::nullCheck(sw)->org::scalegraph::util::StopWatch::lap(
          x10aux::makeStringLit("copying messages"));
    }
    
    //#line 397 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mBCSMessages) = org::scalegraph::util::MemoryChunk<TPMGL(M) >::_make(((x10_long) (this->
                                                                                                   FMGL(mBCSOffset)->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                                                                                                   numPlaces))), 0, false, (x10_byte*)(void*)__FILE__, __LINE__);
    
    //#line 399 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
    org::scalegraph::util::Parallel::iter(x10::lang::LongRange::_make(((x10_long)0ll), ((x10_long) (((x10_int) ((numPlaces) - (((x10_int)1))))))),
                                          reinterpret_cast<x10::lang::VoidFun_0_1<x10_long>*>((new (x10aux::alloc<x10::lang::VoidFun_0_1<x10_long> >(sizeof(org_scalegraph_xpregel_MessageCommunicator__closure__9<TPMGL(M)>)))org_scalegraph_xpregel_MessageCommunicator__closure__9<TPMGL(M)>(numLocalVertexesBC, this))));
    
    //#line 417 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if ((x10aux::struct_equals(x10::lang::Place::_make(x10aux::here)->
                                 FMGL(id), ((x10_int)0))))
    {
        
        //#line 417 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        x10aux::nullCheck(sw)->org::scalegraph::util::StopWatch::lap(
          x10aux::makeStringLit("finished message processing"));
    }
    
    //#line 418 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10Return_c
    return ((x10_long) (this->FMGL(mBCSOffset)->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                          numPlaces)));
    
}

//#line 421 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10MethodDecl_c
template<class TPMGL(M)> x10::array::Array<x10_long>* org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::preProcess(
  ) {
    
    //#line 423 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mUCSRawMessageCount) = org::scalegraph::util::Algorithm::template reduce<x10_long >(
                                        this->FMGL(mUCCMessages)->org::scalegraph::util::MemoryChunk<org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> >::range(),
                                        reinterpret_cast<x10::lang::Fun_0_1<x10_long, x10_long>*>((new (x10aux::alloc<x10::lang::Fun_0_1<x10_long, x10_long> >(sizeof(org_scalegraph_xpregel_MessageCommunicator__closure__10<TPMGL(M)>)))org_scalegraph_xpregel_MessageCommunicator__closure__10<TPMGL(M)>(this))));
    
    //#line 426 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10Return_c
    return (x10::array::Array<x10_long>*)(__extension__ ({
        x10::array::Array<x10_long>* __var269__(x10::array::Array<x10_long>::_make(3));
        __var269__->__set(0, 
        (this->FMGL(mNumActiveVertexes)));
        __var269__->__set(1, 
        (this->FMGL(mUCSRawMessageCount)));
        __var269__->__set(2, 
        (this->FMGL(mBCSInputCount)));
        __var269__;
    }));
    
}

//#line 429 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10MethodDecl_c
template<class TPMGL(M)> x10::array::Array<x10_long>* org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::process(
  x10::lang::Fun_0_1<org::scalegraph::util::MemoryChunk<TPMGL(M)>, TPMGL(M)>* combine,
  x10_boolean UCEnabled, x10_boolean BCEnabled) {
    
    //#line 431 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_long numCombinedMessages = UCEnabled ? (this->org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::processUnicastMessages(
                                                  combine))
      : (((x10_long)0ll));
    
    //#line 432 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_long numTransferedVertexMessages = BCEnabled ? (this->org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::processBroadcastMessages())
      : (((x10_long)0ll));
    
    //#line 434 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mUCSRawMessageCount) = ((x10_long)0ll);
    
    //#line 435 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mBCSInputCount) = ((x10_long)0ll);
    
    //#line 436 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mNumActiveVertexes) = ((x10_long)0ll);
    
    //#line 438 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10Return_c
    return (x10::array::Array<x10_long>*)(__extension__ ({
        x10::array::Array<x10_long>* __var271__(x10::array::Array<x10_long>::_make(2));
        __var271__->__set(0, 
        (numCombinedMessages));
        __var271__->__set(1, 
        (numTransferedVertexMessages));
        __var271__;
    }));
    
}

//#line 441 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10MethodDecl_c
template<class TPMGL(M)> void org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::exchangeMessages(
  x10_boolean UCEnabled, x10_boolean BCEnabled) {
    
    //#line 443 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    org::scalegraph::util::StopWatch* sw = x10aux::nullCheck(org::scalegraph::Config::get())->stopWatch();
    
    //#line 444 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    x10_int numPlaces = this->FMGL(mTeam)->org::scalegraph::util::Team2::size();
    
    //#line 445 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    org::scalegraph::util::MemoryChunk<x10_int> recvCount =
      org::scalegraph::util::MemoryChunk<x10_int >::_make(((x10_long) (numPlaces)), 0, false, (x10_byte*)(void*)__FILE__, __LINE__);
    
    //#line 446 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
    org::scalegraph::util::MemoryChunk<x10_int> recvOffset =
      org::scalegraph::util::MemoryChunk<x10_int >::_make(((x10_long) (((x10_int) ((numPlaces) + (((x10_int)1)))))), 0, false, (x10_byte*)(void*)__FILE__, __LINE__);
    
    //#line 448 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mUCREnabled) = UCEnabled;
    
    //#line 449 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mBCREnabled) = BCEnabled;
    
    //#line 451 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if (UCEnabled) {
        
        //#line 452 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
        if ((x10aux::struct_equals(x10::lang::Place::_make(x10aux::here)->
                                     FMGL(id), ((x10_int)0))))
        {
            
            //#line 452 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
            x10aux::nullCheck(sw)->org::scalegraph::util::StopWatch::lap(
              x10aux::makeStringLit("start to unicast message communication"));
        }
        
        //#line 454 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        this->FMGL(mTeam)->template alltoall<x10_int >(this->
                                                         FMGL(mUCSCount),
                                                       recvCount);
        
        //#line 457 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        recvOffset->org::scalegraph::util::MemoryChunk<x10_int>::__set(
          ((x10_int)0), ((x10_int)0));
        
        //#line 458 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10::lang::LongRange i45805domain45960 = recvCount->org::scalegraph::util::MemoryChunk<x10_int>::range();
        
        //#line 458 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long i45805min45961 = i45805domain45960->FMGL(min);
        
        //#line 458 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long i45805max45962 = i45805domain45960->FMGL(max);
        
        //#line 458 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.For_c
        {
            x10_long i45963;
            for (
                 //#line 458 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                 i45963 = i45805min45961; ((i45963) <= (i45805max45962));
                 
                 //#line 458 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
                 i45963 = ((x10_long) ((i45963) + (((x10_long)1ll)))))
            {
                
                //#line 458 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                x10_long i45964 = i45963;
                
                //#line 459 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
                recvOffset->org::scalegraph::util::MemoryChunk<x10_int>::__set(
                  ((x10_long) ((i45964) + (((x10_long) (((x10_int)1)))))),
                  ((x10_int) ((recvOffset->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                                 i45964)) + (recvCount->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                                               i45964)))));
            }
        }
        
        //#line 462 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_int recvSize = recvOffset->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                             numPlaces);
        
        //#line 464 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
        if ((x10aux::struct_equals(x10::lang::Place::_make(x10aux::here)->
                                     FMGL(id), ((x10_int)0))))
        {
            
            //#line 464 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
            x10aux::nullCheck(sw)->org::scalegraph::util::StopWatch::lap(
              x10aux::makeStringLit("alltoallv..."));
        }
        
        //#line 465 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        org::scalegraph::util::MemoryChunk<x10_long> UCRIds =
          org::scalegraph::util::MemoryChunk<x10_long >::_make(((x10_long) (recvSize)), 0, false, (x10_byte*)(void*)__FILE__, __LINE__);
        
        //#line 466 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        this->FMGL(mTeam)->template alltoallv<x10_long >(
          this->FMGL(mUCSIds), this->FMGL(mUCSOffset), this->
                                                         FMGL(mUCSCount),
          UCRIds, recvOffset, recvCount);
        
        //#line 467 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        this->FMGL(mUCSIds)->org::scalegraph::util::MemoryChunk<x10_long>::del();
        
        //#line 469 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
        this->FMGL(mUCRMessages) = org::scalegraph::util::MemoryChunk<TPMGL(M) >::_make(((x10_long) (recvSize)), 0, false, (x10_byte*)(void*)__FILE__, __LINE__);
        
        //#line 470 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        this->FMGL(mTeam)->template alltoallv<TPMGL(M) >(
          this->FMGL(mUCSMessages), this->FMGL(mUCSOffset),
          this->FMGL(mUCSCount), this->FMGL(mUCRMessages),
          recvOffset, recvCount);
        
        //#line 471 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        this->FMGL(mUCSMessages)->org::scalegraph::util::MemoryChunk<TPMGL(M)>::del();
        
        //#line 474 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        this->FMGL(mUCSCount)->org::scalegraph::util::MemoryChunk<x10_int>::del();
        
        //#line 475 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        this->FMGL(mUCSOffset)->org::scalegraph::util::MemoryChunk<x10_int>::del();
        
        //#line 477 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        org::scalegraph::util::MemoryChunk<x10_long> UCRIdsBuf =
          org::scalegraph::util::MemoryChunk<x10_long >::_make(((x10_long) (recvSize)), 0, false, (x10_byte*)(void*)__FILE__, __LINE__);
        
        //#line 478 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        org::scalegraph::util::MemoryChunk<TPMGL(M)> UCRMessagesBuf =
          org::scalegraph::util::MemoryChunk<TPMGL(M) >::_make(((x10_long) (recvSize)), 0, false, (x10_byte*)(void*)__FILE__, __LINE__);
        
        //#line 480 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
        if ((x10aux::struct_equals(x10::lang::Place::_make(x10aux::here)->
                                     FMGL(id), ((x10_int)0))))
        {
            
            //#line 480 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
            x10aux::nullCheck(sw)->org::scalegraph::util::StopWatch::lap(
              x10aux::makeStringLit("sort..."));
        }
        
        //#line 481 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        org::scalegraph::util::Parallel::template sort<TPMGL(M) >(
          this->FMGL(mIds)->FMGL(lgl), UCRIds, this->FMGL(mUCRMessages),
          UCRIdsBuf, UCRMessagesBuf);
        
        //#line 484 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        UCRMessagesBuf->org::scalegraph::util::MemoryChunk<TPMGL(M)>::del();
        
        //#line 485 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        UCRIdsBuf->org::scalegraph::util::MemoryChunk<x10_long>::del();
        
        //#line 487 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long numLocalVertexes = this->FMGL(mIds)->org::scalegraph::graph::id::IdStruct::numberOfLocalVertexes();
        
        //#line 488 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
        this->FMGL(mUCROffset) = org::scalegraph::util::MemoryChunk<x10_long >::_make(((x10_long) ((numLocalVertexes) + (((x10_long) (((x10_int)1)))))), 0, false, (x10_byte*)(void*)__FILE__, __LINE__);
        
        //#line 489 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        org::scalegraph::util::Parallel::makeOffset(UCRIds,
                                                    this->
                                                      FMGL(mUCROffset));
        
        //#line 490 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        UCRIds->org::scalegraph::util::MemoryChunk<x10_long>::del();
        
        //#line 492 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
        if ((x10aux::struct_equals(x10::lang::Place::_make(x10aux::here)->
                                     FMGL(id), ((x10_int)0))))
        {
            
            //#line 492 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
            x10aux::nullCheck(sw)->org::scalegraph::util::StopWatch::lap(
              x10aux::makeStringLit("finished unicast message communication"));
        }
        
    }
    
    //#line 495 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if (BCEnabled) {
        
        //#line 496 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long numLocalVertexes2N = this->FMGL(mIds)->org::scalegraph::graph::id::IdStruct::numberOfLocalVertexes2N();
        
        //#line 497 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long numLocalVertexesBC = this->org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::numLocalVertexesBC();
        
        //#line 499 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
        if ((x10aux::struct_equals(x10::lang::Place::_make(x10aux::here)->
                                     FMGL(id), ((x10_int)0))))
        {
            
            //#line 499 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
            x10aux::nullCheck(sw)->org::scalegraph::util::StopWatch::lap(
              x10aux::makeStringLit("start broadcast message communication"));
        }
        
        //#line 500 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        this->FMGL(mTeam)->template alltoall<x10_int >(this->
                                                         FMGL(mBCSCount),
                                                       recvCount);
        
        //#line 503 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        recvOffset->org::scalegraph::util::MemoryChunk<x10_int>::__set(
          ((x10_int)0), ((x10_int)0));
        
        //#line 504 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10::lang::LongRange i45822domain45975 = recvCount->org::scalegraph::util::MemoryChunk<x10_int>::range();
        
        //#line 504 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long i45822min45976 = i45822domain45975->FMGL(min);
        
        //#line 504 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_long i45822max45977 = i45822domain45975->FMGL(max);
        
        //#line 504 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.For_c
        {
            x10_long i45978;
            for (
                 //#line 504 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                 i45978 = i45822min45976; ((i45978) <= (i45822max45977));
                 
                 //#line 504 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
                 i45978 = ((x10_long) ((i45978) + (((x10_long)1ll)))))
            {
                
                //#line 504 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                x10_long i45979 = i45978;
                
                //#line 505 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
                recvOffset->org::scalegraph::util::MemoryChunk<x10_int>::__set(
                  ((x10_long) ((i45979) + (((x10_long) (((x10_int)1)))))),
                  ((x10_int) ((recvOffset->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                                 i45979)) + (recvCount->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                                               i45979)))));
            }
        }
        
        //#line 508 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
        x10_int recvSize = recvOffset->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                             numPlaces);
        
        //#line 510 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
        if ((x10aux::struct_equals(x10::lang::Place::_make(x10aux::here)->
                                     FMGL(id), ((x10_int)0))))
        {
            
            //#line 510 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
            x10aux::nullCheck(sw)->org::scalegraph::util::StopWatch::lap(
              x10aux::makeStringLit("alltoallv..."));
        }
        
        //#line 511 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
        this->FMGL(mBCRMessages) = org::scalegraph::util::MemoryChunk<TPMGL(M) >::_make(((x10_long) (recvSize)), 0, false, (x10_byte*)(void*)__FILE__, __LINE__);
        
        //#line 512 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        this->FMGL(mTeam)->template alltoallv<TPMGL(M) >(
          this->FMGL(mBCSMessages), this->FMGL(mBCSOffset),
          this->FMGL(mBCSCount), this->FMGL(mBCRMessages),
          recvOffset, recvCount);
        
        //#line 513 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        this->FMGL(mBCSMessages)->org::scalegraph::util::MemoryChunk<TPMGL(M)>::del();
        
        //#line 516 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
        this->FMGL(mBCRHasMessage) = org::scalegraph::util::Bitmap::_make(((x10_long) ((numLocalVertexesBC) * (((x10_long) (numPlaces))))));
        
        //#line 517 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        this->FMGL(mTeam)->template alltoall<x10_ulong >(
          x10aux::nullCheck(this->FMGL(mBCSMask))->org::scalegraph::util::Bitmap::raw(),
          x10aux::nullCheck(this->FMGL(mBCRHasMessage))->org::scalegraph::util::Bitmap::raw());
        
        //#line 518 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        x10aux::nullCheck(this->FMGL(mBCSMask))->org::scalegraph::util::Bitmap::del();
        
        //#line 522 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
        if (((numLocalVertexes2N) < (((x10_long) (org::scalegraph::util::Bitmap::
                                                    FMGL(BitsPerWord__get)())))))
        {
            
            //#line 523 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
            org::scalegraph::util::Bitmap* dst = org::scalegraph::util::Bitmap::_make(this->
                                                                                        FMGL(mIds)->org::scalegraph::graph::id::IdStruct::numberOfGlobalVertexes2N(),
                                                                                      false);
            
            //#line 524 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
            org::scalegraph::util::MemoryChunk<x10_ulong> raw =
              dst->org::scalegraph::util::Bitmap::raw();
            
            //#line 525 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
            x10_int numBits = ((x10_int) (numLocalVertexes2N));
            
            //#line 526 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
            x10_int i45839min45971 = ((x10_int)0);
            
            //#line 526 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
            x10_int i45839max45972 = ((x10_int) ((numPlaces) - (((x10_int)1))));
            
            //#line 526 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.For_c
            {
                x10_int i45973;
                for (
                     //#line 526 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                     i45973 = i45839min45971; ((i45973) <= (i45839max45972));
                     
                     //#line 526 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
                     i45973 = ((x10_int) ((i45973) + (((x10_int)1)))))
                {
                    
                    //#line 526 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                    x10_int p45974 = i45973;
                    
                    //#line 527 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                    x10_int shift45970 = ((x10_int) ((((x10_int) ((numBits) * (p45974)))) % x10aux::zeroCheck(org::scalegraph::util::Bitmap::
                                                                                                                FMGL(BitsPerWord__get)())));
                    
                    //#line 528 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                    org::scalegraph::util::MemoryChunk<x10_ulong> x45966 =
                      raw;
                    
                    //#line 528 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                    x10_long y45967 = org::scalegraph::util::Bitmap::offset(
                                        ((x10_long) (((x10_int) ((numBits) * (p45974))))));
                    
                    //#line 528 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                    x10_ulong z45968 = ((x10_ulong) ((x10aux::nullCheck(this->
                                                                          FMGL(mBCRHasMessage))->org::scalegraph::util::Bitmap::word(
                                                        ((x10_long) (p45974)))) << (0x3f & (shift45970))));
                    
                    //#line 528 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                    x10_ulong ret45969;
                    
                    //#line 528 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10LocalDecl_c
                    x10_ulong r45965 = ((x10_ulong) ((x45966->org::scalegraph::util::MemoryChunk<x10_ulong>::__apply(
                                                        y45967)) | (z45968)));
                    
                    //#line 528 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
                    x45966->org::scalegraph::util::MemoryChunk<x10_ulong>::__set(
                      y45967, r45965);
                    
                    //#line 528 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10LocalAssign_c
                    ret45969 = r45965;
                    
                    //#line 528 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Local_c
                    ret45969;
                }
            }
            
            //#line 530 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
            this->FMGL(mBCRHasMessage) = dst;
        }
        
        //#line 533 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
        if ((x10aux::struct_equals(x10::lang::Place::_make(x10aux::here)->
                                     FMGL(id), ((x10_int)0))))
        {
            
            //#line 533 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
            x10aux::nullCheck(sw)->org::scalegraph::util::StopWatch::lap(
              x10aux::makeStringLit("scan..."));
        }
        
        //#line 534 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
        this->FMGL(mBCROffset) = org::scalegraph::util::MemoryChunk<x10_long >::_make(((x10_long) ((org::scalegraph::util::Bitmap::numWords(
                                                                                                      x10aux::nullCheck(this->
                                                                                                                          FMGL(mBCRHasMessage))->org::scalegraph::util::Bitmap::size())) + (((x10_long) (((x10_int)1)))))), 0, false, (x10_byte*)(void*)__FILE__, __LINE__);
        
        //#line 535 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        org::scalegraph::util::Parallel::template scan<x10_long >(
          x10aux::nullCheck(this->FMGL(mBCRHasMessage))->org::scalegraph::util::Bitmap::raw()->org::scalegraph::util::MemoryChunk<x10_ulong>::range(),
          this->FMGL(mBCROffset), ((x10_long)0ll), reinterpret_cast<x10::lang::Fun_0_2<x10_long, x10_long, x10_long>*>((new (x10aux::alloc<x10::lang::Fun_0_2<x10_long, x10_long, x10_long> >(sizeof(org_scalegraph_xpregel_MessageCommunicator__closure__11<TPMGL(M)>)))org_scalegraph_xpregel_MessageCommunicator__closure__11<TPMGL(M)>(this))),
          reinterpret_cast<x10::lang::Fun_0_2<x10_long, x10_long, x10_long>*>((new (x10aux::alloc<x10::lang::Fun_0_2<x10_long, x10_long, x10_long> >(sizeof(org_scalegraph_xpregel_MessageCommunicator__closure__12<TPMGL(M)>)))org_scalegraph_xpregel_MessageCommunicator__closure__12<TPMGL(M)>())));
        
        //#line 539 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": polyglot.ast.Assert_c
        #ifndef NO_ASSERTIONS
        if (x10aux::x10__assertions_enabled)
            x10aux::x10__assert((x10aux::struct_equals(((x10_long) (recvOffset->org::scalegraph::util::MemoryChunk<x10_int>::__apply(
                                                                      numPlaces))),
                                                       this->
                                                         FMGL(mBCROffset)->org::scalegraph::util::MemoryChunk<x10_long>::__apply(
                                                         org::scalegraph::util::Bitmap::numWords(
                                                           ((x10_long) ((numLocalVertexes2N) * (((x10_long) (numPlaces))))))))));
        #endif//NO_ASSERTIONS
        
    }
    
    //#line 544 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
    recvCount->org::scalegraph::util::MemoryChunk<x10_int>::del();
    
    //#line 545 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
    recvOffset->org::scalegraph::util::MemoryChunk<x10_int>::del();
    
    //#line 546 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10If_c
    if ((x10aux::struct_equals(x10::lang::Place::_make(x10aux::here)->
                                 FMGL(id), ((x10_int)0))))
    {
        
        //#line 546 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10Call_c
        x10aux::nullCheck(sw)->org::scalegraph::util::StopWatch::lap(
          x10aux::makeStringLit("finished broadcast message communication"));
    }
    
}

//#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10MethodDecl_c
template<class TPMGL(M)> org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>*
  org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::org__scalegraph__xpregel__MessageCommunicator____this__org__scalegraph__xpregel__MessageCommunicator(
  ) {
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10Return_c
    return this;
    
}

//#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": x10.ast.X10MethodDecl_c
template<class TPMGL(M)> void org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::__fieldInitializers44755(
  ) {
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mSuperstep) = ((x10_int)0);
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mInEdgesOffset) = x10aux::zeroValue<org::scalegraph::util::MemoryChunk<x10_long> >();
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mInEdgesVertex) = x10aux::zeroValue<org::scalegraph::util::MemoryChunk<x10_long> >();
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mInEdgesMask) = (x10aux::class_cast_unchecked<org::scalegraph::util::Bitmap*>(X10_NULL));
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mUCREnabled) = false;
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mBCREnabled) = false;
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mUCCMessages) = x10aux::zeroValue<org::scalegraph::util::MemoryChunk<org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> > >();
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mBCCHasMessage) = (x10aux::class_cast_unchecked<org::scalegraph::util::Bitmap*>(X10_NULL));
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mBCCMessages) = x10aux::zeroValue<org::scalegraph::util::MemoryChunk<TPMGL(M)> >();
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mUCSRawMessageCount) = ((x10_long)0ll);
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mUCSCount) = x10aux::zeroValue<org::scalegraph::util::MemoryChunk<x10_int> >();
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mUCSOffset) = x10aux::zeroValue<org::scalegraph::util::MemoryChunk<x10_int> >();
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mUCSIds) = x10aux::zeroValue<org::scalegraph::util::MemoryChunk<x10_long> >();
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mUCSMessages) = x10aux::zeroValue<org::scalegraph::util::MemoryChunk<TPMGL(M)> >();
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mBCSInputCount) = ((x10_long)0ll);
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mBCSCount) = x10aux::zeroValue<org::scalegraph::util::MemoryChunk<x10_int> >();
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mBCSOffset) = x10aux::zeroValue<org::scalegraph::util::MemoryChunk<x10_int> >();
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mBCSMessages) = x10aux::zeroValue<org::scalegraph::util::MemoryChunk<TPMGL(M)> >();
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mBCSMask) = (x10aux::class_cast_unchecked<org::scalegraph::util::Bitmap*>(X10_NULL));
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mUCRMessages) = x10aux::zeroValue<org::scalegraph::util::MemoryChunk<TPMGL(M)> >();
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mUCROffset) = x10aux::zeroValue<org::scalegraph::util::MemoryChunk<x10_long> >();
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mBCRHasMessage) = (x10aux::class_cast_unchecked<org::scalegraph::util::Bitmap*>(X10_NULL));
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mBCROffset) = x10aux::zeroValue<org::scalegraph::util::MemoryChunk<x10_long> >();
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mBCRMessages) = x10aux::zeroValue<org::scalegraph::util::MemoryChunk<TPMGL(M)> >();
    
    //#line 35 "/home/mukul/ScaleGraph/scalegraph/src/org/scalegraph/xpregel/MessageCommunicator.x10": Eval of x10.ast.X10FieldAssign_c
    this->FMGL(mNumActiveVertexes) = ((x10_long)0ll);
}
template<class TPMGL(M)> const x10aux::serialization_id_t org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::_serialization_id = 
    x10aux::DeserializationDispatcher::addDeserializer(org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::_deserializer, x10aux::CLOSURE_KIND_NOT_ASYNC);

template<class TPMGL(M)> void org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::_serialize_body(x10aux::serialization_buffer& buf) {
    buf.write(this->FMGL(mTeam));
    buf.write(this->FMGL(mIds));
    buf.write(this->FMGL(mNumThreads));
    buf.write(this->FMGL(mSuperstep));
    buf.write(this->FMGL(mVtoD));
    buf.write(this->FMGL(mDtoV));
    buf.write(this->FMGL(mDtoS));
    buf.write(this->FMGL(mStoD));
    buf.write(this->FMGL(mStoV));
    buf.write(this->FMGL(mInEdgesOffset));
    buf.write(this->FMGL(mInEdgesVertex));
    buf.write(this->FMGL(mInEdgesMask));
    buf.write(this->FMGL(mUCREnabled));
    buf.write(this->FMGL(mBCREnabled));
    buf.write(this->FMGL(mUCCMessages));
    buf.write(this->FMGL(mBCCHasMessage));
    buf.write(this->FMGL(mBCCMessages));
    buf.write(this->FMGL(mUCSRawMessageCount));
    buf.write(this->FMGL(mUCSCount));
    buf.write(this->FMGL(mUCSOffset));
    buf.write(this->FMGL(mUCSIds));
    buf.write(this->FMGL(mUCSMessages));
    buf.write(this->FMGL(mBCSInputCount));
    buf.write(this->FMGL(mBCSCount));
    buf.write(this->FMGL(mBCSOffset));
    buf.write(this->FMGL(mBCSMessages));
    buf.write(this->FMGL(mBCSMask));
    buf.write(this->FMGL(mUCRMessages));
    buf.write(this->FMGL(mUCROffset));
    buf.write(this->FMGL(mBCRHasMessage));
    buf.write(this->FMGL(mBCROffset));
    buf.write(this->FMGL(mBCRMessages));
    buf.write(this->FMGL(mNumActiveVertexes));
    
}

template<class TPMGL(M)> x10::lang::Reference* org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::_deserializer(x10aux::deserialization_buffer& buf) {
    org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>* this_ = new (memset(x10aux::alloc<org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)> >(), 0, sizeof(org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>))) org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>();
    buf.record_reference(this_);
    this_->_deserialize_body(buf);
    return this_;
}

template<class TPMGL(M)> void org::scalegraph::xpregel::MessageCommunicator<TPMGL(M)>::_deserialize_body(x10aux::deserialization_buffer& buf) {
    FMGL(mTeam) = buf.read<org::scalegraph::util::Team2>();
    FMGL(mIds) = buf.read<org::scalegraph::graph::id::IdStruct>();
    FMGL(mNumThreads) = buf.read<x10_int>();
    FMGL(mSuperstep) = buf.read<x10_int>();
    FMGL(mVtoD) = buf.read<org::scalegraph::graph::id::OnedR__VtoD>();
    FMGL(mDtoV) = buf.read<org::scalegraph::graph::id::OnedR__DtoV>();
    FMGL(mDtoS) = buf.read<org::scalegraph::graph::id::OnedR__DtoS>();
    FMGL(mStoD) = buf.read<org::scalegraph::graph::id::OnedR__StoD>();
    FMGL(mStoV) = buf.read<org::scalegraph::graph::id::OnedR__StoV>();
    FMGL(mInEdgesOffset) = buf.read<org::scalegraph::util::MemoryChunk<x10_long> >();
    FMGL(mInEdgesVertex) = buf.read<org::scalegraph::util::MemoryChunk<x10_long> >();
    FMGL(mInEdgesMask) = buf.read<org::scalegraph::util::Bitmap*>();
    FMGL(mUCREnabled) = buf.read<x10_boolean>();
    FMGL(mBCREnabled) = buf.read<x10_boolean>();
    FMGL(mUCCMessages) = buf.read<org::scalegraph::util::MemoryChunk<org::scalegraph::xpregel::MessageBuffer<TPMGL(M)> > >();
    FMGL(mBCCHasMessage) = buf.read<org::scalegraph::util::Bitmap*>();
    FMGL(mBCCMessages) = buf.read<org::scalegraph::util::MemoryChunk<TPMGL(M)> >();
    FMGL(mUCSRawMessageCount) = buf.read<x10_long>();
    FMGL(mUCSCount) = buf.read<org::scalegraph::util::MemoryChunk<x10_int> >();
    FMGL(mUCSOffset) = buf.read<org::scalegraph::util::MemoryChunk<x10_int> >();
    FMGL(mUCSIds) = buf.read<org::scalegraph::util::MemoryChunk<x10_long> >();
    FMGL(mUCSMessages) = buf.read<org::scalegraph::util::MemoryChunk<TPMGL(M)> >();
    FMGL(mBCSInputCount) = buf.read<x10_long>();
    FMGL(mBCSCount) = buf.read<org::scalegraph::util::MemoryChunk<x10_int> >();
    FMGL(mBCSOffset) = buf.read<org::scalegraph::util::MemoryChunk<x10_int> >();
    FMGL(mBCSMessages) = buf.read<org::scalegraph::util::MemoryChunk<TPMGL(M)> >();
    FMGL(mBCSMask) = buf.read<org::scalegraph::util::Bitmap*>();
    FMGL(mUCRMessages) = buf.read<org::scalegraph::util::MemoryChunk<TPMGL(M)> >();
    FMGL(mUCROffset) = buf.read<org::scalegraph::util::MemoryChunk<x10_long> >();
    FMGL(mBCRHasMessage) = buf.read<org::scalegraph::util::Bitmap*>();
    FMGL(mBCROffset) = buf.read<org::scalegraph::util::MemoryChunk<x10_long> >();
    FMGL(mBCRMessages) = buf.read<org::scalegraph::util::MemoryChunk<TPMGL(M)> >();
    FMGL(mNumActiveVertexes) = buf.read<x10_long>();
}

#endif // ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR_H_IMPLEMENTATION
#endif // __ORG_SCALEGRAPH_XPREGEL_MESSAGECOMMUNICATOR_H_NODEPS
